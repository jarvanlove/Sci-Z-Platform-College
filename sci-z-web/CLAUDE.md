# Sci-Z Web 前端开发规范

> **注意**: 本文档整合了前端项目的所有开发规则，Cursor 2.0 会自动识别并应用此文件中的规则。

---

## 一、角色定位与前置条件

### 角色定位

Vue 3 + TypeScript 专家、UI 设计师

### 回复规范

#### 1. 理解需求

- 仔细分析用户提出的问题或需求
- 识别核心技术点和关键问题
- 考虑前后端交互的完整流程
- 参考原型图设计和视觉要求

#### 2. 回复结构

- 回复结果始终为中文
- 显示当前回复使用的模型信息
- 列出一个执行计划然后依次执行
- 每次回复之前都要将你理解的需求向我描述一遍，我确认后才可以进行编码
- 提供清晰的解决方案
- 简明扼要地总结问题

---

## 二、提示词模板使用指南

为确保各业务模块开发过程中的沟通一致、效率更高，请在开始实现前参考 `相关文档/提示词模板` 目录下的模板文件。各模块对应关系如下：

- 认证模块：`相关文档/提示词模板/认证模块/`
- 申报模块：`相关文档/提示词模板/申报模块/`
- 项目模块：`相关文档/提示词模板/项目模块/`
- 验收模块：`相关文档/提示词模板/验收模块/`
- 系统管理：`相关文档/提示词模板/系统管理/`
- 用户中心：`相关文档/提示词模板/用户中心/`
- 仪表板：`相关文档/提示词模板/仪表板/`
- AI 助手：`相关文档/提示词模板/AI助手/`
- 通用页面开发：`相关文档/提示词模板/统一页面开发提示词.md`
- 组件库设计：`相关文档/提示词模板/组件库设计提示词.md`

### 使用建议

- 在分析需求时先阅读对应模块的提示词模板，明确交互规范、接口约定与测试要点。
- 若模块涉及跨域调用或复合业务场景，可结合“通用页面开发”与具体模块模板交叉参考。
- 如需新增模块提示词，请保持目录结构一致，并在本节中同步补充说明。

---

## 三、行业配置与部门标签使用规范

- 服务端接口
  - 行业配置：`GET /api/system/industry/config`
  - 部门标签：`GET /api/auth/department/label`
- 登录成功后，必须在回调中并行调用 `industryStore.fetchIndustryConfig()` 预热行业信息；成功时缓存 `industryCode`/`industryName` 到 Pinia 与 `localStorage`，失败时回退至默认行业（code=`default`）。
- 所有依赖行业的页面（如注册页）统一使用 `useIndustryStore()`，调用 `fetchDepartmentLabels()` 获取下拉选项；该方法会先保证行业信息存在，不存在时自动触发行业配置接口。
- 注册表单中的“所属院系/科室/部门”文案及部门列表必须根据 `industryStore.departmentLabelKey`、`departmentPlaceholderKey` 动态渲染，确保行业切换后展示正确。
- 若需要支持新的行业类型，需同步扩展 `industryStore` 中的映射以及对应的 i18n 文案。

---

## 四、前端架构落地规范（重点）

> 目标：结合提示词模板 + 本节规范，能够按照现有架构快速、准确地实现任意页面/功能。

### 1. 目录与职责划分
- `views/` 只负责路由挂载，通常写成极薄包装层（仅引入业务组件或布置页面布局），禁止在此编写复杂业务逻辑。  
  - 若页面需要主布局，直接使用 `MainLayout`，或参考既有页面的使用方式。
- `components/Business/<模块>/` 承担页面主体实现：布局、表单、数据交互、状态处理、样式等均放在这里。  
  - 新增功能必须按模块落在对应目录，必要时先确认模块是否存在。  
  - 业务组件内部可自由拆分子组件，但**不能新增目录层级**。
- `components/Common/` 提供通用基础组件（Button/Card/Pagination 等），优先复用，勿重复造轮子。
- `api/<模块>/` 包含接口封装，`store/modules/` 为 Pinia 仓库，`utils/` 为通用工具。业务组件需要调用接口/状态时请从对应模块导入。

### 2. 开发流程
1. **阅读提示词模板**：确认交互流程、接口、校验与测试要点。  
2. **业务组件实现**：
   - 使用 `<script setup>` + Composition API。  
   - 引用 Common 组件构建 UI，引用 Business 子组件（若有）组合页面。  
   - 接口调用统一通过 `api/<模块>`，异步需 `try/catch` + `ElMessage` 或日志反馈。  
   - 状态引用 Pinia：`useAuthStore`、`useIndustryStore` 等。涉及跨模块数据务必在业务组件处理，不要在 view 层处理。
3. **视图包装**：在 `views/<模块>/<Page>.vue` 中仅引入业务组件并渲染，必要时再加布局/路由逻辑。  
4. **国际化**：所有文案用 `$t()`，若新增键值需同步 `locales/` 下四种语言（zh-CN/en-US/ja-JP/ko-KR），保持含义一致。  
5. **样式**：采用 `lang="scss" scoped`，优先使用设计系统变量（`var(--gap-*)` 等）。响应式参考现有写法。

### 3. 代码规范补充
- **日志**：需要调试输出请使用 `createLogger('模块名')`，避免直接 `console.log`（上线前应清理）。  
- **表单验证**：使用 Element Plus 表单规则 + `utils/validate` 中方法；自定义校验器需提供用户提示。  
- **文件/命名**：继续遵循 `CamelCase/PascalCase` 约定，禁止新增目录。业务组件命名示例：`UserProfile.vue`、`UserSecurity.vue`。  
- **接口返回处理**：所有 API 统一通过 `checkLoginStatus`、`getUserInfo` 等封装；若需新增接口，请先在 `api/<模块>` 中定义方法，再在业务组件里调用。
- **错误处理**：异步错误必须兜底提示（`ElMessage.error`）并在日志中写明上下文；不要静默失败。

### 4. 验证与提交
- 本地手动验证：路由跳转、接口请求、表单校验、国际化、响应式。  
- 保持 `read_lints` 无警告。  
- 完成后在总结里列出涉及的接口与 JSON 结构，方便后端联调。

---


