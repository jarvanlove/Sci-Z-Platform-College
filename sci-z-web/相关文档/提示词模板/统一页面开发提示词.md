# ç»Ÿä¸€é¡µé¢å¼€å‘æç¤ºè¯æ¨¡æ¿

## ğŸ¯ ä½¿ç”¨è¯´æ˜

åŸºäºç°æœ‰é¡¹ç›®æ¶æ„ï¼Œä¸¥æ ¼æŒ‰ç…§åŸå‹å›¾å¼€å‘**å•ä¸ªé¡µé¢**ï¼Œè¦æ±‚ä»£ç å¯ç›´æ¥è¿è¡Œã€‚

## ğŸ“‹ é¡µé¢ä¿¡æ¯
- **åŸå‹å›¾è·¯å¾„**ï¼š[å…·ä½“åŸå‹å›¾è·¯å¾„]
- **é¡µé¢ç±»å‹**ï¼š[è®¤è¯é¡µé¢/åˆ—è¡¨é¡µé¢/è¡¨å•é¡µé¢/è¯¦æƒ…é¡µé¢/ä»ªè¡¨æ¿é¡µé¢]
- **é¡µé¢åç§°**ï¼š[å…·ä½“é¡µé¢åç§°]
- **ä¸»è¦åŠŸèƒ½**ï¼š[å…·ä½“åŠŸèƒ½æè¿°]
- **å¯¹åº”æ–‡ä»¶è·¯å¾„**ï¼š[å…·ä½“æ–‡ä»¶è·¯å¾„]

## ğŸ—ï¸ é¡¹ç›®æ¶æ„è¦ç‚¹

### **æ ¸å¿ƒæ¶æ„**
```
src/
â”œâ”€â”€ api/                    # APIå±‚ï¼ˆæŒ‰æ¨¡å—ç»„ç»‡ï¼‰
â”œâ”€â”€ components/            # ç»„ä»¶å±‚
â”‚   â”œâ”€â”€ Common/            # åŸºç¡€ç»„ä»¶ï¼ˆBaseButton, BaseCard, BaseTableç­‰ï¼‰
â”‚   â”œâ”€â”€ Business/          # ä¸šåŠ¡ç»„ä»¶ï¼ˆæŒ‰åŠŸèƒ½+æ¨¡å—ç»„ç»‡ï¼‰
â”‚   â””â”€â”€ Layout/            # å¸ƒå±€ç»„ä»¶ï¼ˆMainLayout, Header, Sidebarï¼‰
â”œâ”€â”€ views/                 # é¡µé¢è§†å›¾
â”œâ”€â”€ store/                 # çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
â”œâ”€â”€ router/                # è·¯ç”±é…ç½®
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ locales/               # å›½é™…åŒ–
â””â”€â”€ directives/            # è‡ªå®šä¹‰æŒ‡ä»¤ï¼ˆæƒé™æ§åˆ¶ï¼‰
```

### **ç»„ä»¶ä½¿ç”¨ç­–ç•¥**
1. **åŸºç¡€ç»„ä»¶**ï¼š`BaseButton`, `BaseCard`, `BaseTable`, `BasePagination`, `BaseScrollbar`
2. **ä¸šåŠ¡ç»„ä»¶**ï¼šæŒ‰éœ€ä½¿ç”¨ï¼Œå¦‚ `SearchForm`, `DataTable`, `InfoCard` ç­‰
3. **å¸ƒå±€ç»„ä»¶**ï¼šè®¤è¯é¡µé¢ä¸ç”¨ `MainLayout`ï¼Œä¸šåŠ¡é¡µé¢å¿…é¡»ç”¨

## ğŸ› ï¸ å¼€å‘è§„èŒƒ

### 1. ç»„ä»¶å¯¼å…¥è§„èŒƒ
```vue
<script setup>
// åŸºç¡€ç»„ä»¶
import { BaseButton, BaseCard, BaseTable, BasePagination } from '@/components/Common'

// ä¸šåŠ¡ç»„ä»¶ï¼ˆæŒ‰éœ€ï¼‰
import { SearchForm, DataTable } from '@/components/Business/List'
import { InfoCard, ProgressBar } from '@/components/Business/Detail'

// APIï¼ˆæŒ‰æ¨¡å—ï¼‰
import { getProjectList, createProject } from '@/api/Project'

// çŠ¶æ€ç®¡ç†
import { useAuthStore } from '@/store/modules/auth'

// å·¥å…·å‡½æ•°ï¼ˆæŒ‰éœ€ï¼‰
import { formatDate, getRelativeTime } from '@/utils/date'
import { formatFileSize, checkFileType } from '@/utils/file'
import { validateEmail, validatePhone } from '@/utils/validate'
import { STATUS, STATUS_CONFIG, PERMISSIONS } from '@/utils/constants'
import { createLogger } from '@/utils/simpleLogger'
</script>
```

### 2. é¡µé¢ç»“æ„è§„èŒƒ

#### **è®¤è¯é¡µé¢**ï¼ˆä¸ä½¿ç”¨MainLayoutï¼‰
```vue
<template>
  <BaseScrollbar class="auth-page">
    <div class="auth-container">
      <BaseCard class="auth-card">
        <!-- é¡µé¢å†…å®¹ -->
      </BaseCard>
    </div>
  </BaseScrollbar>
</template>
```

#### **ä¸šåŠ¡é¡µé¢**ï¼ˆä½¿ç”¨MainLayoutï¼‰
```vue
<template>
  <div class="page-container">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <h1>{{ $t('page.title') }}</h1>
      <BaseButton type="primary" @click="handleCreate">
        {{ $t('common.create') }}
      </BaseButton>
    </div>
    
    <!-- é¡µé¢å†…å®¹ -->
    <BaseCard class="content-card">
      <!-- å…·ä½“å†…å®¹ -->
    </BaseCard>
  </div>
</template>
```

### 3. APIè°ƒç”¨è§„èŒƒ
```vue
<script setup>
import { ref, onMounted } from 'vue'
import { ElMessage } from 'element-plus'
import { getProjectList } from '@/api/Project'
import { createLogger } from '@/utils/simpleLogger'

const logger = createLogger('ProjectList')
const loading = ref(false)
const data = ref([])

const fetchData = async () => {
  try {
    loading.value = true
    logger.info('å¼€å§‹è·å–é¡¹ç›®åˆ—è¡¨')
    const response = await getProjectList({ page: 1, size: 10 })
    data.value = response.data
    logger.info('é¡¹ç›®åˆ—è¡¨è·å–æˆåŠŸ', { count: data.value.length })
  } catch (error) {
    logger.error('è·å–é¡¹ç›®åˆ—è¡¨å¤±è´¥', error)
    ElMessage.error('è·å–æ•°æ®å¤±è´¥')
  } finally {
    loading.value = false
  }
}

onMounted(() => {
  fetchData()
})
</script>
```

### 4. æ ·å¼è§„èŒƒ
```scss
<style lang="scss" scoped>
.page-container {
  padding: var(--gap-lg);
  background: var(--bg);
  min-height: 100vh;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--gap-lg);
  
  h1 {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    color: var(--text);
    margin: 0;
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .page-container {
    padding: var(--gap-md);
  }
}
</style>
```

### 5. å›½é™…åŒ–è§„èŒƒ
```vue
<template>
  <!-- æ‰€æœ‰æ–‡æœ¬ä½¿ç”¨ $t() å‡½æ•° -->
  <h1>{{ $t('page.title') }}</h1>
  <el-button>{{ $t('common.confirm') }}</el-button>
</template>

<script setup>
import { useI18n } from 'vue-i18n'
const { t } = useI18n()
</script>
```

### 6. å·¥å…·å‡½æ•°ä½¿ç”¨è§„èŒƒ

#### **æ—¥æœŸå¤„ç†å·¥å…·** (`@/utils/date`)
```vue
<template>
  <!-- æ ¼å¼åŒ–æ—¥æœŸæ˜¾ç¤º -->
  <span>{{ formatDate(item.createTime, 'YYYY-MM-DD HH:mm') }}</span>
  <!-- ç›¸å¯¹æ—¶é—´æ˜¾ç¤º -->
  <span>{{ getRelativeTime(item.updateTime) }}</span>
</template>

<script setup>
import { formatDate, getRelativeTime } from '@/utils/date'

// åœ¨è®¡ç®—å±æ€§ä¸­ä½¿ç”¨
const formattedDate = computed(() => formatDate(data.value.createTime))
</script>
```

#### **æ–‡ä»¶å¤„ç†å·¥å…·** (`@/utils/file`)
```vue
<template>
  <!-- æ–‡ä»¶å¤§å°æ˜¾ç¤º -->
  <span>{{ formatFileSize(file.size) }}</span>
  <!-- æ–‡ä»¶ç±»å‹æ£€æŸ¥ -->
  <el-upload :before-upload="handleBeforeUpload">
</template>

<script setup>
import { formatFileSize, checkFileType, checkFileSize } from '@/utils/file'
import { FILE_TYPES } from '@/utils/constants'

const handleBeforeUpload = (file) => {
  // æ£€æŸ¥æ–‡ä»¶ç±»å‹
  if (!checkFileType(file, FILE_TYPES.DOCUMENT)) {
    ElMessage.error('ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹')
    return false
  }
  
  // æ£€æŸ¥æ–‡ä»¶å¤§å° (5MB)
  if (!checkFileSize(file, 5 * 1024 * 1024)) {
    ElMessage.error('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡5MB')
    return false
  }
  
  return true
}
</script>
```

#### **è¡¨å•éªŒè¯å·¥å…·** (`@/utils/validate`)
```vue
<script setup>
import { validateEmail, validatePhone, validatePassword } from '@/utils/validate'

// è‡ªå®šä¹‰éªŒè¯è§„åˆ™
const formRules = {
  email: [
    { required: true, message: 'è¯·è¾“å…¥é‚®ç®±', trigger: 'blur' },
    { 
      validator: (rule, value, callback) => {
        if (!validateEmail(value)) {
          callback(new Error('è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±æ ¼å¼'))
        } else {
          callback()
        }
      }, 
      trigger: 'blur' 
    }
  ],
  phone: [
    { required: true, message: 'è¯·è¾“å…¥æ‰‹æœºå·', trigger: 'blur' },
    { 
      validator: (rule, value, callback) => {
        if (!validatePhone(value)) {
          callback(new Error('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·æ ¼å¼'))
        } else {
          callback()
        }
      }, 
      trigger: 'blur' 
    }
  ]
}
</script>
```

#### **å¸¸é‡ä½¿ç”¨** (`@/utils/constants`)
```vue
<template>
  <!-- çŠ¶æ€æ ‡ç­¾ -->
  <el-tag :type="STATUS_CONFIG[item.status].type">
    {{ STATUS_CONFIG[item.status].text }}
  </el-tag>
  
  <!-- æƒé™æ§åˆ¶ -->
  <el-button v-if="authStore.hasPermission(PERMISSIONS.PROJECT_CREATE)">
    æ–°å»ºé¡¹ç›®
  </el-button>
</template>

<script setup>
import { STATUS, STATUS_CONFIG, PERMISSIONS } from '@/utils/constants'
import { useAuthStore } from '@/store/modules/auth'

const authStore = useAuthStore()

// çŠ¶æ€æ˜ å°„å‡½æ•°
const getStatusConfig = (status) => {
  return STATUS_CONFIG[status] || { text: 'æœªçŸ¥', type: 'info' }
}
</script>
```

#### **æ—¥å¿—ç³»ç»Ÿ** (`@/utils/simpleLogger`)
```vue
<script setup>
import { createLogger } from '@/utils/simpleLogger'

const logger = createLogger('ComponentName')

const handleAction = () => {
  logger.info('ç”¨æˆ·æ‰§è¡Œæ“ä½œ', { action: 'click', target: 'button' })
  
  try {
    // ä¸šåŠ¡é€»è¾‘
    logger.debug('æ“ä½œæ‰§è¡ŒæˆåŠŸ')
  } catch (error) {
    logger.error('æ“ä½œæ‰§è¡Œå¤±è´¥', error)
  }
}
</script>
```

#### **è®¤è¯å·¥å…·** (`@/utils/auth`)
```vue
<script setup>
import { getToken, getUserInfo, getPermissions } from '@/utils/auth'

// æ£€æŸ¥ç™»å½•çŠ¶æ€
const checkAuth = () => {
  if (!getToken()) {
    router.push('/login')
    return false
  }
  return true
}

// è·å–ç”¨æˆ·ä¿¡æ¯
const userInfo = getUserInfo()
const permissions = getPermissions()
</script>
```

## ğŸ“ ä»£ç è¾“å‡ºè¦æ±‚

### å¿…é¡»åŒ…å«
- âœ… **å®Œæ•´æ¨¡æ¿ç»“æ„**ï¼ˆä¸¥æ ¼æŒ‰ç…§åŸå‹å›¾ï¼‰
- âœ… **å®Œæ•´è„šæœ¬é€»è¾‘**ï¼ˆä¸šåŠ¡é€»è¾‘ã€é”™è¯¯å¤„ç†ï¼‰
- âœ… **å®Œæ•´æ ·å¼å®šä¹‰**ï¼ˆä½¿ç”¨è®¾è®¡ç³»ç»Ÿå˜é‡ï¼‰
- âœ… **APIè°ƒç”¨é€»è¾‘**ï¼ˆä½¿ç”¨æ­£ç¡®çš„APIå¯¼å…¥ï¼‰
- âœ… **å›½é™…åŒ–æ–‡æœ¬**ï¼ˆæ‰€æœ‰æ–‡æœ¬ä½¿ç”¨$t()å‡½æ•°ï¼‰
- âœ… **å·¥å…·å‡½æ•°ä½¿ç”¨**ï¼ˆåˆç†ä½¿ç”¨@/utils/ä¸­çš„å·¥å…·å‡½æ•°ï¼‰
- âœ… **æ—¥å¿—è®°å½•**ï¼ˆä½¿ç”¨createLoggerè®°å½•å…³é”®æ“ä½œï¼‰
- âœ… **å¸¸é‡å¼•ç”¨**ï¼ˆä½¿ç”¨@/utils/constantsä¸­çš„å¸¸é‡ï¼‰

### ä»£ç è´¨é‡
- âœ… **æ— è¯­æ³•é”™è¯¯**ï¼šä»£ç å¯ç›´æ¥è¿è¡Œ
- âœ… **æ— ESLinté”™è¯¯**ï¼šç¬¦åˆä»£ç è§„èŒƒ
- âœ… **æ¶æ„é€‚é…**ï¼šä½¿ç”¨ç°æœ‰ç»„ä»¶å’ŒAPIç»“æ„
- âœ… **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒç§»åŠ¨ç«¯é€‚é…

## âš ï¸ é‡è¦çº¦æŸ

### æ–‡ä»¶æ“ä½œ
- âŒ **ä¸è¦åˆ›å»ºæ–°æ–‡ä»¶**ï¼šæ‰€æœ‰ä»£ç å†™åœ¨æŒ‡å®šæ–‡ä»¶è·¯å¾„
- âŒ **ä¸è¦ä¿®æ”¹é¡¹ç›®ç»“æ„**ï¼šä¸¥æ ¼æŒ‰ç…§ç°æœ‰ç›®å½•ç»“æ„
- âŒ **ä¸è¦ä¿®æ”¹ç°æœ‰ç»„ä»¶**ï¼šåªä½¿ç”¨ï¼Œä¸ä¿®æ”¹

### åŠŸèƒ½å®ç°
- âœ… **å®Œæ•´åŠŸèƒ½**ï¼šå®ç°åŸå‹å›¾ä¸­çš„æ‰€æœ‰åŠŸèƒ½
- âœ… **é”™è¯¯å¤„ç†**ï¼šåŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†é€»è¾‘
- âœ… **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›è‰¯å¥½çš„åŠ è½½çŠ¶æ€å’Œåé¦ˆ

**æœ€ç»ˆè¦æ±‚ï¼šç”Ÿæˆçš„ä»£ç å¿…é¡»å¯ä»¥ç›´æ¥è¿è¡Œï¼Œæ— éœ€é¢å¤–ä¿®æ”¹ï¼Œå®Œå…¨ç¬¦åˆé¡¹ç›®æ¶æ„å’Œå¼€å‘è§„èŒƒã€‚**

---

## ğŸ¯ é¡µé¢ç±»å‹å¼€å‘æŒ‡å—

### 1. åˆ—è¡¨é¡µé¢
- **ç»„ä»¶ç»„åˆ**ï¼š`SearchForm` + `DataTable` + `BasePagination`
- **åŠŸèƒ½ç‰¹æ€§**ï¼šæœç´¢ã€åˆ†é¡µã€æ“ä½œæŒ‰é’®ã€çŠ¶æ€æ ‡ç­¾
- **å·¥å…·ä½¿ç”¨**ï¼š
  - `formatDate` æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
  - `STATUS_CONFIG` çŠ¶æ€æ ‡ç­¾é…ç½®
  - `createLogger` è®°å½•æ“ä½œæ—¥å¿—
  - `PERMISSIONS` æƒé™æ§åˆ¶

### 2. è¯¦æƒ…é¡µé¢
- **ç»„ä»¶ç»„åˆ**ï¼š`InfoCard` + `ProgressBar` + `Timeline` + `AttachmentList`
- **åŠŸèƒ½ç‰¹æ€§**ï¼šè¯¦ç»†ä¿¡æ¯ã€è¿›åº¦ã€æ—¶é—´çº¿ã€é™„ä»¶ç®¡ç†
- **å·¥å…·ä½¿ç”¨**ï¼š
  - `formatDate` æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
  - `formatFileSize` æ–‡ä»¶å¤§å°æ˜¾ç¤º
  - `getRelativeTime` ç›¸å¯¹æ—¶é—´æ˜¾ç¤º

### 3. è¡¨å•é¡µé¢
- **ç»„ä»¶ç»„åˆ**ï¼š`FormSection` + `FileUpload` + `FormActions`
- **åŠŸèƒ½ç‰¹æ€§**ï¼šè¡¨å•éªŒè¯ã€æ–‡ä»¶ä¸Šä¼ ã€æ“ä½œæŒ‰é’®
- **å·¥å…·ä½¿ç”¨**ï¼š
  - `validateEmail/Phone/Password` è¡¨å•éªŒè¯
  - `checkFileType/Size` æ–‡ä»¶éªŒè¯
  - `formatFileSize` æ–‡ä»¶å¤§å°æ˜¾ç¤º

### 4. è®¤è¯é¡µé¢
- **ç»„ä»¶ç»„åˆ**ï¼š`BaseScrollbar` + `BaseCard`ï¼ˆä¸ä½¿ç”¨MainLayoutï¼‰
- **åŠŸèƒ½ç‰¹æ€§**ï¼šç™»å½•ã€æ³¨å†Œã€é‡ç½®å¯†ç 
- **å·¥å…·ä½¿ç”¨**ï¼š
  - `validateEmail/Phone/Password` è¡¨å•éªŒè¯
  - `getToken/isLoggedIn` è®¤è¯çŠ¶æ€æ£€æŸ¥

### 5. ä»ªè¡¨æ¿é¡µé¢
- **ç»„ä»¶ç»„åˆ**ï¼š`DashboardStatCard` + å›¾è¡¨ç»„ä»¶
- **åŠŸèƒ½ç‰¹æ€§**ï¼šç»Ÿè®¡æ•°æ®ã€å›¾è¡¨ã€å¿«æ·æ“ä½œ
- **å·¥å…·ä½¿ç”¨**ï¼š
  - `formatDate` æ—¶é—´æ ¼å¼åŒ–
  - `STATUS_CONFIG` çŠ¶æ€ç»Ÿè®¡
  - `createLogger` æ•°æ®åŠ è½½æ—¥å¿—

### 6. ç³»ç»Ÿç®¡ç†é¡µé¢
- **ç»„ä»¶ç»„åˆ**ï¼š`DataTable` + `SearchForm` + å¯¹è¯æ¡†
- **åŠŸèƒ½ç‰¹æ€§**ï¼šç”¨æˆ·ç®¡ç†ã€è§’è‰²æƒé™ã€ç³»ç»Ÿé…ç½®ã€æ—¥å¿—ç®¡ç†
- **å·¥å…·ä½¿ç”¨**ï¼š
  - `PERMISSIONS` æƒé™æ§åˆ¶
  - `formatDate` æ—¶é—´æ˜¾ç¤º
  - `createLogger` æ“ä½œæ—¥å¿—
  - `validateEmail/Phone` è¡¨å•éªŒè¯

## ğŸ“‹ å·¥å…·å‡½æ•°ä½¿ç”¨æ¸…å•

### **å¿…é¡»ä½¿ç”¨çš„å·¥å…·å‡½æ•°**
1. **createLogger** - æ‰€æœ‰é¡µé¢éƒ½éœ€è¦æ—¥å¿—è®°å½•
2. **formatDate** - æ‰€æœ‰æ—¶é—´æ˜¾ç¤ºéƒ½éœ€è¦æ ¼å¼åŒ–
3. **STATUS_CONFIG** - æ‰€æœ‰çŠ¶æ€æ ‡ç­¾éƒ½éœ€è¦ä½¿ç”¨
4. **PERMISSIONS** - æ‰€æœ‰æƒé™æ§åˆ¶éƒ½éœ€è¦ä½¿ç”¨

### **æŒ‰éœ€ä½¿ç”¨çš„å·¥å…·å‡½æ•°**
1. **æ–‡ä»¶ç›¸å…³**ï¼š`formatFileSize`, `checkFileType`, `checkFileSize`
2. **è¡¨å•éªŒè¯**ï¼š`validateEmail`, `validatePhone`, `validatePassword`
3. **æ—¶é—´ç›¸å…³**ï¼š`getRelativeTime`, `getDateRange`
4. **è®¤è¯ç›¸å…³**ï¼š`getToken`, `getUserInfo`, `getPermissions`

**è¯·æ ¹æ®å…·ä½“é¡µé¢ç±»å‹ï¼Œé€‰æ‹©åˆé€‚çš„ç»„ä»¶ç»„åˆå’Œå·¥å…·å‡½æ•°ï¼Œä¸¥æ ¼æŒ‰ç…§åŸå‹å›¾å®ç°åŠŸèƒ½ã€‚**