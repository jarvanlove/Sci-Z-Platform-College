# 仪表板页面开发提示词

## 📋 页面信息
- **原型图路径**：`原型图/仪表板/仪表板.html`
- **页面类型**：仪表板页面
- **页面名称**：数据仪表板
- **主要功能**：数据统计、图表展示、快捷操作、最近活动
- **对应文件路径**：`src/views/Dashboard/index.vue`

## 🎨 原型图视觉分析

### **整体布局**
- 背景色：`#f7f9fc`
- 容器：`padding: 20px`，`min-height: calc(100vh - 56px)`
- 网格布局：4列统计卡片 + 2列主要内容区域

### **统计卡片设计**
- 4个统计卡片：总申报数、进行中、待审核、已完成
- 悬停效果：渐变背景 + 上移 + 阴影变化
- 图标 + 数值 + 标签的垂直布局
- 颜色主题：蓝色系渐变

### **主要内容区域**
- 左侧：最近申报表格（2fr）
- 右侧：快捷操作卡片（1fr）
- 底部：项目进度概览（全宽）

## 🔧 技术实现要求

### 1. 页面结构
```vue
<template>
  <div class="dashboard-container">
    <!-- 统计卡片区域 -->
    <div class="stats-cards">
      <div 
        v-for="stat in stats" 
        :key="stat.key"
        class="stat-card"
        @click="handleStatClick(stat)"
      >
        <div class="stat-icon">{{ stat.icon }}</div>
        <div class="stat-value" :class="stat.valueClass">{{ stat.value }}</div>
        <div class="stat-label">{{ stat.label }}</div>
      </div>
    </div>

    <!-- 主要内容区域 -->
    <div class="main-content">
      <!-- 顶部区域 -->
      <div class="top-section">
        <!-- 最近申报 -->
        <div class="declaration-card content-card">
          <div class="card-header">
            <h3 class="card-title">{{ $t('dashboard.recentDeclarations') }}</h3>
            <a href="#" class="card-action" @click="handleViewAllDeclarations">
              {{ $t('common.viewAll') }}
            </a>
          </div>
          
          <!-- 加载状态 -->
          <div v-if="loading" class="loading-skeleton">
            <el-skeleton :rows="5" animated />
          </div>
          
          <!-- Element Plus 表格 -->
          <el-table
            v-else
            :data="recentDeclarations"
            class="declaration-table"
            :header-cell-style="{ backgroundColor: '#f8fafc', color: '#6b7280', fontWeight: '600' }"
            :row-style="{ cursor: 'pointer' }"
            @row-click="handleDeclarationClick"
          >
            <el-table-column prop="number" :label="$t('dashboard.declarationNumber')" width="120" align="center">
              <template #default="{ row }">
                <span class="number-cell">{{ row.number }}</span>
              </template>
            </el-table-column>
            <el-table-column prop="direction" :label="$t('dashboard.researchDirection')" min-width="200" show-overflow-tooltip>
              <template #default="{ row }">
                <span class="direction-cell">{{ row.direction }}</span>
              </template>
            </el-table-column>
            <el-table-column prop="submitTime" :label="$t('dashboard.submitTime')" width="120" align="center">
              <template #default="{ row }">
                <span class="time-cell">{{ row.submitTime }}</span>
              </template>
            </el-table-column>
            <el-table-column prop="status" :label="$t('common.status')" width="100" align="center">
              <template #default="{ row }">
                <el-tag
                  :type="getStatusTagType(row.statusType)"
                  :class="`status-${row.statusType}`"
                  size="small"
                >
                  {{ row.status }}
                </el-tag>
              </template>
            </el-table-column>
            <el-table-column :label="$t('common.actions')" width="80" align="center">
              <template #default="{ row }">
                <el-button
                  size="small"
                  type="primary"
                  plain
                  @click.stop="handleDeclarationClick(row)"
                >
                  {{ $t('common.view') }}
                </el-button>
              </template>
            </el-table-column>
          </el-table>
        </div>

        <!-- 快捷操作 -->
        <div class="quick-actions-card content-card">
          <div class="card-header">
            <h3 class="card-title">{{ $t('dashboard.quickActions') }}</h3>
          </div>
          <div class="quick-actions">
            <el-button
              v-for="action in quickActions"
              :key="action.key"
              :type="action.type"
              :icon="action.icon"
              class="action-button"
              @click="handleQuickAction(action.key)"
            >
              {{ action.label }}
            </el-button>
          </div>
        </div>
      </div>

      <!-- 底部区域 -->
      <div class="bottom-section">
        <!-- 项目进度概览 -->
        <div class="progress-card content-card">
          <div class="card-header">
            <h3 class="card-title">{{ $t('dashboard.projectProgress') }}</h3>
            <a href="#" class="card-action" @click="handleViewAllProjects">
              {{ $t('common.viewAll') }}
            </a>
          </div>
          
          <!-- 加载状态 -->
          <div v-if="loading" class="loading-skeleton">
            <el-skeleton :rows="3" animated />
          </div>
          
          <!-- 项目进度列表 -->
          <div v-else class="progress-grid">
            <div 
              v-for="project in projectProgress" 
              :key="project.id"
              class="progress-item"
              @click="handleProjectClick(project.id)"
            >
              <div class="progress-info">
                <div class="progress-name">{{ project.name }}</div>
                <div class="progress-time">{{ $t('dashboard.expectedCompletion') }}: {{ project.expectedDate }}</div>
              </div>
              <div class="progress-bar-container">
                <el-progress
                  :percentage="project.progress"
                  :color="getProgressColor(project.progress)"
                  :stroke-width="8"
                  :show-text="false"
                />
              </div>
              <div class="progress-percentage">{{ project.progress }}%</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
```

### 2. 核心功能实现
```javascript
<script setup>
import { ref, reactive, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { useI18n } from 'vue-i18n'
import { ElMessage } from 'element-plus'
import { Document, Folder, Check, Search } from '@element-plus/icons-vue'
import { formatDate } from '@/utils/date'
import { STATUS_CONFIG } from '@/utils/constants'
import { createLogger } from '@/utils/simpleLogger'
import { getDashboardStats, getRecentDeclarations, getProjectProgress } from '@/api/Dashboard'

const router = useRouter()
const { t } = useI18n()
const logger = createLogger('Dashboard')

// 响应式数据
const loading = ref(false)
const stats = ref([
  { key: 'total', icon: '📊', value: 0, label: t('dashboard.totalProjects'), valueClass: 'stat-total' },
  { key: 'progress', icon: '🔄', value: 0, label: t('dashboard.inProgress'), valueClass: 'stat-progress' },
  { key: 'pending', icon: '⏳', value: 0, label: t('dashboard.pendingReview'), valueClass: 'stat-pending' },
  { key: 'completed', icon: '✅', value: 0, label: t('dashboard.completed'), valueClass: 'stat-completed' }
])

const recentDeclarations = ref([])
const projectProgress = ref([])

const quickActions = ref([
  { key: 'newDeclaration', icon: Document, type: 'primary', label: t('dashboard.newDeclaration') },
  { key: 'createProject', icon: Folder, type: 'default', label: t('dashboard.createProject') },
  { key: 'applyAcceptance', icon: Check, type: 'default', label: t('dashboard.applyAcceptance') },
  { key: 'knowledgeSearch', icon: Search, type: 'default', label: t('dashboard.knowledgeSearch') }
])

// 获取状态标签类型
const getStatusTagType = (statusType) => {
  const typeMap = {
    submitting: 'warning',
    success: 'success',
    failed: 'danger',
    withdrawn: 'info'
  }
  return typeMap[statusType] || 'info'
}

// 获取进度条颜色
const getProgressColor = (progress) => {
  if (progress <= 30) return '#dc2626'
  if (progress <= 70) return '#f59e0b'
  return '#16a34a'
}

// 加载数据
const loadDashboardData = async () => {
  try {
    loading.value = true
    logger.info('Starting to load dashboard data')
    
    // TODO: 替换为实际后端接口
    // const [statsResponse, declarationsResponse, progressResponse] = await Promise.all([
    //   getDashboardStats(),
    //   getRecentDeclarations({ limit: 5 }),
    //   getProjectProgress({ limit: 6 })
    // ])
    // 
    // // 更新统计数据
    // stats.value[0].value = statsResponse.data.total
    // stats.value[1].value = statsResponse.data.inProgress
    // stats.value[2].value = statsResponse.data.pending
    // stats.value[3].value = statsResponse.data.completed
    // 
    // // 更新最近申报数据
    // recentDeclarations.value = declarationsResponse.data.map(item => ({
    //   ...item,
    //   submitTime: formatDate(item.submitTime)
    // }))
    // 
    // // 更新项目进度数据
    // projectProgress.value = progressResponse.data.map(item => ({
    //   ...item,
    //   expectedDate: formatDate(item.expectedDate)
    // }))
    
    // 临时模拟数据（后端开发完成后删除）
    await new Promise(resolve => setTimeout(resolve, 1500))
    
    // 模拟统计数据
    stats.value[0].value = 156
    stats.value[1].value = 23
    stats.value[2].value = 8
    stats.value[3].value = 125
    logger.info('Statistics data loaded successfully', { total: 156, progress: 23, pending: 8, completed: 125 })
    
    // 模拟最近申报数据
    recentDeclarations.value = [
      {
        id: 1,
        number: 'SB2024001',
        direction: t('dashboard.mockDeclaration1'),
        submitTime: '2024-01-15',
        status: t('dashboard.statusSubmitting'),
        statusType: 'submitting'
      },
      {
        id: 2,
        number: 'SB2024002',
        direction: t('dashboard.mockDeclaration2'),
        submitTime: '2024-01-14',
        status: t('dashboard.statusSuccess'),
        statusType: 'success'
      },
      {
        id: 3,
        number: 'SB2024003',
        direction: t('dashboard.mockDeclaration3'),
        submitTime: '2024-01-13',
        status: t('dashboard.statusFailed'),
        statusType: 'failed'
      },
      {
        id: 4,
        number: 'SB2024004',
        direction: t('dashboard.mockDeclaration4'),
        submitTime: '2024-01-12',
        status: t('dashboard.statusWithdrawn'),
        statusType: 'withdrawn'
      },
      {
        id: 5,
        number: 'SB2024005',
        direction: t('dashboard.mockDeclaration5'),
        submitTime: '2024-01-11',
        status: t('dashboard.statusSubmitting'),
        statusType: 'submitting'
      }
    ]
    
    // 模拟项目进度数据
    projectProgress.value = [
      {
        id: 1,
        name: t('dashboard.mockProject1'),
        progress: 75,
        expectedDate: '2024-03-15'
      },
      {
        id: 2,
        name: t('dashboard.mockProject2'),
        progress: 45,
        expectedDate: '2024-04-20'
      },
      {
        id: 3,
        name: t('dashboard.mockProject3'),
        progress: 90,
        expectedDate: '2024-02-28'
      },
      {
        id: 4,
        name: t('dashboard.mockProject4'),
        progress: 30,
        expectedDate: '2024-05-10'
      },
      {
        id: 5,
        name: t('dashboard.mockProject5'),
        progress: 60,
        expectedDate: '2024-03-30'
      },
      {
        id: 6,
        name: t('dashboard.mockProject6'),
        progress: 85,
        expectedDate: '2024-02-15'
      }
    ]
    
    logger.info('Dashboard data loaded successfully', { 
      declarationsCount: recentDeclarations.value.length,
      projectsCount: projectProgress.value.length 
    })
  } catch (error) {
    logger.error('Dashboard data loading failed', error)
    ElMessage.error(t('dashboard.loadError'))
  } finally {
    loading.value = false
    logger.info('Dashboard data loading completed')
  }
}

// 事件处理
const handleStatClick = (stat) => {
  logger.info('User clicked stat card', { stat: stat.key, label: stat.label })
  ElMessage.info(t('dashboard.viewStatDetails', { label: stat.label }))
}

const handleDeclarationClick = (item) => {
  logger.info('User clicked declaration item', { id: item.id, number: item.number })
  ElMessage.info(t('dashboard.viewDeclarationDetails', { number: item.number }))
  router.push(`/declaration/detail/${item.id}`)
}

const handleViewAllDeclarations = () => {
  logger.info('User clicked view all declarations')
  router.push('/declaration/list')
}

const handleProjectClick = (projectId) => {
  logger.info('User clicked project', { projectId })
  ElMessage.info(t('dashboard.viewProjectDetails', { projectId }))
  router.push(`/project/detail/${projectId}`)
}

const handleViewAllProjects = () => {
  logger.info('User clicked view all projects')
  router.push('/project/list')
}

const handleQuickAction = (action) => {
  logger.info('User clicked quick action', { action })
  const actionMap = {
    newDeclaration: t('dashboard.actionNewDeclaration'),
    createProject: t('dashboard.actionCreateProject'),
    applyAcceptance: t('dashboard.actionApplyAcceptance'),
    knowledgeSearch: t('dashboard.actionKnowledgeSearch')
  }
  ElMessage.info(t('dashboard.executingAction', { action: actionMap[action] }))
  
  const pathMap = {
    newDeclaration: '/declaration/create',
    createProject: '/project/create',
    applyAcceptance: '/acceptance/create',
    knowledgeSearch: '/knowledge/list'
  }
  router.push(pathMap[action])
}

onMounted(() => {
  loadDashboardData()
})
</script>
```

### 3. 样式实现
```scss
<style lang="scss" scoped>
.dashboard-container {
  padding: 20px;
  background: #f7f9fc;
  min-height: calc(100vh - 56px);
  overflow-x: hidden;
  max-width: 100%;
}

.stats-cards {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  margin-bottom: 24px;
}

.stat-card {
  background: #ffffff;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
  border: 1px solid #e5e7eb;
  height: 120px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  transition: all 0.3s ease;
  cursor: pointer;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #60a5fa 100%);
    border-radius: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
  }

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(30, 58, 138, 0.15);
    border: 1px solid transparent;

    &::before {
      opacity: 1;
    }

    .stat-icon {
      transform: scale(1.1);
    }

    .stat-value {
      color: #ffffff;
    }

    .stat-label {
      color: #e0e7ff;
    }
  }
}

.stat-icon {
  font-size: 24px;
  margin-bottom: 8px;
  transition: transform 0.3s ease;
}

.stat-value {
  font-size: 28px;
  font-weight: 600;
  margin-bottom: 4px;
  transition: color 0.3s ease;
}

.stat-label {
  font-size: 14px;
  color: #6b7280;
  transition: color 0.3s ease;
}

.stat-total { color: #1e3a8a; }
.stat-progress { color: #f59e0b; }
.stat-pending { color: #2563eb; }
.stat-completed { color: #16a34a; }

.main-content {
  display: flex;
  flex-direction: column;
  gap: 24px;
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

.top-section {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 24px;
  align-items: start;
}

.content-card {
  background: #ffffff;
  border-radius: 8px;
  padding: 16px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
  border: 1px solid #e5e7eb;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid #e5e7eb;
}

.card-title {
  font-size: 16px;
  font-weight: 600;
  color: #1e3a8a;
  margin: 0;
}

.card-action {
  color: #1e3a8a;
  font-size: 14px;
  text-decoration: none;
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
}

// Element Plus 表格样式
:deep(.declaration-table) {
  .el-table__header {
    th {
      background-color: #f8fafc !important;
      color: #6b7280 !important;
      font-weight: 600 !important;
      border-bottom: 1px solid #e5e7eb !important;
    }
  }

  .el-table__body {
    tr {
      cursor: pointer;
      transition: background-color 0.2s;

      &:hover {
        background-color: #f0f9ff !important;
      }

      &:nth-child(even) {
        background-color: #f9fafb;

        &:hover {
          background-color: #f0f9ff !important;
        }
      }
    }

    td {
      border-bottom: 1px solid #e5e7eb !important;
    }
  }
}

.number-cell { 
  color: #9ca3af; 
  font-weight: 500; 
}

.direction-cell { 
  color: #374151;
  max-width: 200px;
}

.time-cell { 
  color: #9ca3af; 
}

// 状态标签样式
:deep(.status-submitting) {
  background-color: #fef3c7 !important;
  color: #f59e0b !important;
  border-color: #f59e0b !important;
}

:deep(.status-success) {
  background-color: #dcfce7 !important;
  color: #16a34a !important;
  border-color: #16a34a !important;
}

:deep(.status-failed) {
  background-color: #fee2e2 !important;
  color: #dc2626 !important;
  border-color: #dc2626 !important;
}

:deep(.status-withdrawn) {
  background-color: #e0e7ff !important;
  color: #2563eb !important;
  border-color: #2563eb !important;
}

.quick-actions {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.action-button {
  width: 100%;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0 16px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(30, 58, 138, 0.1);
  }
}

.progress-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  width: 100%;
  box-sizing: border-box;
}

.progress-item {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  padding: 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  gap: 8px;
  background: #f8fafc;
  border: 1px solid #e5e7eb;
  width: 100%;
  box-sizing: border-box;

  &:hover {
    background-color: #f0f9ff;
    border-color: #1e3a8a;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(30, 58, 138, 0.1);
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.progress-info {
  flex: 1;
  min-width: 0;
  max-width: 40%;
}

.progress-name {
  font-weight: 600;
  font-size: 14px;
  color: #374151;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.progress-time {
  font-size: 12px;
  color: #6b7280;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.progress-bar-container {
  width: 100px;
  flex-shrink: 0;
  margin: 0 8px;
}

.progress-percentage {
  font-size: 12px;
  font-weight: 600;
  color: #1e3a8a;
  min-width: 30px;
  text-align: right;
  flex-shrink: 0;
}

// 响应式设计
@media (max-width: 1200px) {
  .top-section {
    grid-template-columns: 1fr;
  }

  .progress-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 1024px) {
  .stats-cards {
    grid-template-columns: repeat(2, 1fr);
  }

  .progress-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .stats-cards {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  .dashboard-container {
    padding: 16px;
  }

  .progress-grid {
    grid-template-columns: 1fr;
  }

  .progress-item {
    flex-direction: row;
    align-items: center;
  }
}

@media (max-width: 640px) {
  .stats-cards {
    grid-template-columns: 1fr;
  }

  .dashboard-container {
    padding: 12px;
  }

  .progress-grid {
    grid-template-columns: 1fr;
  }
}
</style>
```

## ⚠️ 重要注意事项

1. **严格按照原型图实现**：布局、颜色、动画效果必须与原型图一致
2. **Element Plus组件**：使用`el-table`、`el-progress`、`el-tag`、`el-button`、`el-skeleton`等组件
3. **表格实现**：使用Element Plus表格组件，不是原生HTML表格
4. **状态标签**：使用`el-tag`组件，通过`getStatusTagType`函数映射状态类型
5. **进度条**：使用`el-progress`组件，通过`getProgressColor`函数设置颜色
6. **加载状态**：使用`el-skeleton`组件显示骨架屏
7. **接口集成**：所有数据通过后端接口获取，包含完整的错误处理和加载状态
8. **交互效果**：悬停效果、点击跳转、消息提示
9. **响应式设计**：支持不同屏幕尺寸
10. **路由跳转**：所有操作都要有对应的路由跳转
11. **国际化支持**：所有文本使用$t()函数，包括模拟数据中的文本
12. **图标使用**：使用Element Plus图标库，如`Document`、`Folder`、`Check`、`Search`
13. **数据加载**：使用Promise.all并行加载统计数据、最近申报、项目进度数据
14. **错误处理**：包含完整的错误处理和用户友好的错误提示

**最终要求：生成的代码必须与原型图的视觉效果和交互逻辑完全一致，使用Element Plus组件实现！**