# æŠ¥å‘Šç”Ÿæˆé¡µé¢å¼€å‘æç¤ºè¯

## ğŸ“‹ é¡µé¢ä¿¡æ¯
- **åŸå‹å›¾è·¯å¾„**ï¼š`åŸå‹å›¾/éªŒæ”¶æ¨¡å—/æŠ¥å‘Šç”Ÿæˆ.html`
- **é¡µé¢ç±»å‹**ï¼šè¡¨å•é¡µé¢
- **é¡µé¢åç§°**ï¼šæŠ¥å‘Šç”Ÿæˆ
- **ä¸»è¦åŠŸèƒ½**ï¼šæŠ¥å‘Šé…ç½®ã€ç”Ÿæˆè¿‡ç¨‹ç›‘æ§ã€æŠ¥å‘Šé¢„è§ˆç¼–è¾‘
- **å¯¹åº”æ–‡ä»¶è·¯å¾„**ï¼š`src/views/Report/Generate.vue`

## ğŸ¨ åŸå‹å›¾è§†è§‰åˆ†æ

### **æ•´ä½“å¸ƒå±€**
- èƒŒæ™¯è‰²ï¼š`#f7f9fc`
- å®¹å™¨ï¼š`padding: 20px`ï¼Œ`min-height: calc(100vh - 56px)`
- é¡µé¢æ ‡é¢˜ï¼š`font-size: 24px`ï¼Œ`color: #1e3a8a`ï¼Œ`font-weight: 600`

### **é…ç½®åŒºåŸŸ**
- ç™½è‰²å¡ç‰‡ï¼š`background: #ffffff`ï¼Œ`border-radius: 8px`ï¼Œ`padding: 24px`
- è¡¨å•å¸ƒå±€ï¼š`display: grid`ï¼Œ`grid-template-columns: repeat(2, 1fr)`ï¼Œ`gap: 20px`
- è¡¨å•é¡¹ï¼š`margin-bottom: 20px`
- æ ‡ç­¾æ ·å¼ï¼š`font-weight: 600`ï¼Œ`color: #374151`

### **ç”Ÿæˆè¿‡ç¨‹åŒºåŸŸ**
- è¿›åº¦æ¡ï¼š`height: 8px`ï¼Œ`border-radius: 4px`ï¼Œ`background: #e5e7eb`
- è¿›åº¦æ–‡æœ¬ï¼š`font-size: 14px`ï¼Œ`color: #6b7280`
- æ¶ˆæ¯åˆ—è¡¨ï¼š`max-height: 200px`ï¼Œ`overflow-y: auto`
- æ¶ˆæ¯é¡¹ï¼š`padding: 8px 12px`ï¼Œ`border-radius: 4px`ï¼Œ`margin-bottom: 4px`

### **é¢„è§ˆåŒºåŸŸ**
- é¢„è§ˆå®¹å™¨ï¼š`background: #ffffff`ï¼Œ`border-radius: 8px`ï¼Œ`padding: 24px`
- å·¥å…·æ ï¼š`display: flex`ï¼Œ`justify-content: space-between`ï¼Œ`align-items: center`
- ç¼–è¾‘å™¨ï¼š`min-height: 400px`ï¼Œ`border: 1px solid #e5e7eb`
- æ“ä½œæŒ‰é’®ï¼š`display: flex`ï¼Œ`gap: 8px`

## ğŸ”§ æŠ€æœ¯å®ç°è¦æ±‚

### 1. é¡µé¢ç»“æ„
```vue
<template>
  <div class="report-generate-container">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-left">
        <el-button @click="handleBack" class="back-button">
          <el-icon><ArrowLeft /></el-icon>
          {{ $t('common.back') }}
        </el-button>
        <h1 class="page-title">{{ $t('report.generate.title') }}</h1>
      </div>
    </div>

    <div class="content-grid">
      <!-- é…ç½®åŒºåŸŸ -->
      <BaseCard class="config-card">
        <template #header>
          <div class="card-header">
            <h3>{{ $t('report.generate.configTitle') }}</h3>
            <el-tag v-if="isGenerating" type="warning" effect="dark">
              {{ $t('report.generate.generating') }}
            </el-tag>
          </div>
        </template>

        <el-form
          ref="configFormRef"
          :model="configForm"
          :rules="configRules"
          label-width="120px"
          class="config-form"
        >
          <el-form-item :label="$t('report.generate.project')" prop="projectId">
            <el-select
              v-model="configForm.projectId"
              :placeholder="$t('report.generate.selectProject')"
              style="width: 100%"
              :disabled="isGenerating"
              @change="handleProjectChange"
            >
              <el-option
                v-for="project in projects"
                :key="project.id"
                :label="project.name"
                :value="project.id"
              >
                <div class="project-option">
                  <span class="project-name">{{ project.name }}</span>
                  <span class="project-code">{{ project.code }}</span>
                </div>
              </el-option>
            </el-select>
          </el-form-item>

          <el-form-item :label="$t('report.generate.workflow')" prop="workflowId">
            <el-select
              v-model="configForm.workflowId"
              :placeholder="$t('report.generate.selectWorkflow')"
              style="width: 100%"
              :disabled="isGenerating"
              @change="handleWorkflowChange"
            >
              <el-option
                v-for="workflow in workflows"
                :key="workflow.id"
                :label="workflow.name"
                :value="workflow.id"
              >
                <div class="workflow-option">
                  <span class="workflow-name">{{ workflow.name }}</span>
                  <span class="workflow-desc">{{ workflow.description }}</span>
                </div>
              </el-option>
            </el-select>
          </el-form-item>

          <el-form-item :label="$t('report.generate.reportType')" prop="reportType">
            <el-radio-group v-model="configForm.reportType" :disabled="isGenerating">
              <el-radio value="tech">{{ $t('report.types.tech') }}</el-radio>
              <el-radio value="self">{{ $t('report.types.self') }}</el-radio>
            </el-radio-group>
          </el-form-item>

          <el-form-item :label="$t('report.generate.template')" prop="templateId">
            <el-select
              v-model="configForm.templateId"
              :placeholder="$t('report.generate.selectTemplate')"
              style="width: 100%"
              :disabled="isGenerating"
            >
              <el-option
                v-for="template in templates"
                :key="template.id"
                :label="template.name"
                :value="template.id"
              >
                <div class="template-option">
                  <span class="template-name">{{ template.name }}</span>
                  <span class="template-desc">{{ template.description }}</span>
                </div>
              </el-option>
            </el-select>
          </el-form-item>

          <!-- é«˜çº§é…ç½® -->
          <el-collapse v-model="advancedConfigOpen" class="advanced-config">
            <el-collapse-item :title="$t('report.generate.advancedConfig')" name="advanced">
              <el-form-item :label="$t('report.generate.wordCount')">
                <el-input-number
                  v-model="configForm.wordCount"
                  :min="1000"
                  :max="50000"
                  :step="500"
                  :disabled="isGenerating"
                  style="width: 100%"
                />
              </el-form-item>

              <el-form-item :label="$t('report.generate.includeCharts')">
                <el-switch
                  v-model="configForm.includeCharts"
                  :disabled="isGenerating"
                />
              </el-form-item>

              <el-form-item :label="$t('report.generate.includeImages')">
                <el-switch
                  v-model="configForm.includeImages"
                  :disabled="isGenerating"
                />
              </el-form-item>

              <el-form-item :label="$t('report.generate.customPrompt')">
                <el-input
                  v-model="configForm.customPrompt"
                  type="textarea"
                  :rows="3"
                  :placeholder="$t('report.generate.customPromptPlaceholder')"
                  :disabled="isGenerating"
                />
              </el-form-item>
            </el-collapse-item>
          </el-collapse>

          <el-form-item class="form-actions">
            <el-button
              type="primary"
              size="large"
              :loading="isGenerating"
              :disabled="!canGenerate"
              @click="handleGenerate"
            >
              <el-icon v-if="!isGenerating"><Magic /></el-icon>
              {{ isGenerating ? $t('report.generate.generating') : $t('report.generate.startGenerate') }}
            </el-button>
            <el-button
              v-if="isGenerating"
              type="danger"
              size="large"
              @click="handleStopGenerate"
            >
              <el-icon><Close /></el-icon>
              {{ $t('report.generate.stopGenerate') }}
            </el-button>
          </el-form-item>
        </el-form>
      </BaseCard>

      <!-- ç”Ÿæˆè¿‡ç¨‹åŒºåŸŸ -->
      <BaseCard v-if="isGenerating || generateProgress > 0" class="process-card">
        <template #header>
          <h3>{{ $t('report.generate.processTitle') }}</h3>
        </template>

        <div class="progress-section">
          <div class="progress-info">
            <span class="progress-text">
              {{ $t('report.generate.progress', { 
                current: Math.round(generateProgress), 
                total: 100 
              }) }}
            </span>
            <span class="progress-status">{{ currentStatus }}</span>
          </div>
          <el-progress
            :percentage="generateProgress"
            :status="generateProgress === 100 ? 'success' : 'active'"
            :stroke-width="8"
            :show-text="false"
          />
        </div>

        <div class="messages-section">
          <h4>{{ $t('report.generate.messages') }}</h4>
          <div class="messages-list">
            <div
              v-for="(message, index) in generateMessages"
              :key="index"
              class="message-item"
              :class="message.type"
            >
              <el-icon class="message-icon">
                <InfoFilled v-if="message.type === 'info'" />
                <SuccessFilled v-else-if="message.type === 'success'" />
                <WarningFilled v-else-if="message.type === 'warning'" />
                <CircleCloseFilled v-else-if="message.type === 'error'" />
              </el-icon>
              <span class="message-text">{{ message.text }}</span>
              <span class="message-time">{{ formatTime(message.timestamp) }}</span>
            </div>
          </div>
        </div>
      </BaseCard>

      <!-- é¢„è§ˆåŒºåŸŸ -->
      <BaseCard v-if="reportContent" class="preview-card">
        <template #header>
          <div class="preview-header">
            <h3>{{ $t('report.generate.previewTitle') }}</h3>
            <div class="preview-actions">
              <el-button size="small" @click="toggleEditMode">
                <el-icon><Edit /></el-icon>
                {{ isEditMode ? $t('common.preview') : $t('common.edit') }}
              </el-button>
              <el-button size="small" type="primary" @click="handleSave">
                <el-icon><Check /></el-icon>
                {{ $t('common.save') }}
              </el-button>
              <el-dropdown @command="(format) => handleDownload(format)" trigger="click">
                <el-button size="small" type="primary">
                  <el-icon><Download /></el-icon>
                  {{ $t('common.download') }}
                  <el-icon class="el-icon--right"><ArrowDown /></el-icon>
                </el-button>
                <template #dropdown>
                  <el-dropdown-menu>
                    <el-dropdown-item command="pdf">PDF</el-dropdown-item>
                    <el-dropdown-item command="word">Word</el-dropdown-item>
                    <el-dropdown-item command="markdown">Markdown</el-dropdown-item>
                  </el-dropdown-menu>
                </template>
              </el-dropdown>
              <el-button size="small" type="success" @click="handleRegenerate">
                <el-icon><Refresh /></el-icon>
                {{ $t('report.generate.regenerate') }}
              </el-button>
            </div>
          </div>
        </template>

        <div class="preview-content">
          <!-- ç¼–è¾‘æ¨¡å¼ -->
          <div v-if="isEditMode" class="editor-container">
            <el-input
              v-model="reportContent"
              type="textarea"
              :rows="20"
              :placeholder="$t('report.generate.editPlaceholder')"
              class="content-editor"
            />
          </div>

          <!-- é¢„è§ˆæ¨¡å¼ -->
          <div v-else class="preview-container">
            <div class="report-preview" v-html="reportContent"></div>
          </div>
        </div>
      </BaseCard>
    </div>
  </div>
</template>
```

### 2. æ ¸å¿ƒåŠŸèƒ½å®ç°
```javascript
<script setup>
import { ref, reactive, computed, onMounted, nextTick } from 'vue'
import { useRouter } from 'vue-router'
import { useI18n } from 'vue-i18n'
import { ElMessage, ElMessageBox } from 'element-plus'
import {
  ArrowLeft, Magic, Close, Edit, Check, Download, ArrowDown, Refresh,
  InfoFilled, SuccessFilled, WarningFilled, CircleCloseFilled
} from '@element-plus/icons-vue'
import { BaseCard } from '@/components/Common'
import { generateReport, downloadReport, saveReport, getProjects, getWorkflows, getTemplates } from '@/api/Report'
import { formatDate } from '@/utils/date'
import { STATUS_CONFIG } from '@/utils/constants'
import { validateReportWordCount } from '@/utils/validate'

const router = useRouter()
const { t } = useI18n()
const logger = createLogger('ReportGenerate')

// å“åº”å¼æ•°æ®
const configFormRef = ref()
const isGenerating = ref(false)
const generateProgress = ref(0)
const currentStatus = ref('')
const generateMessages = ref([])
const reportContent = ref('')
const isEditMode = ref(false)
const advancedConfigOpen = ref([])

// é…ç½®è¡¨å•
const configForm = reactive({
  projectId: '',
  workflowId: '',
  reportType: 'tech',
  templateId: '',
  wordCount: 5000,
  includeCharts: true,
  includeImages: true,
  customPrompt: ''
})

// è¡¨å•éªŒè¯è§„åˆ™
const configRules = {
  projectId: [
    { required: true, message: t('report.generate.projectRequired'), trigger: 'change' }
  ],
  workflowId: [
    { required: true, message: t('report.generate.workflowRequired'), trigger: 'change' }
  ],
  reportType: [
    { required: true, message: t('report.generate.reportTypeRequired'), trigger: 'change' }
  ],
  templateId: [
    { required: true, message: t('report.generate.templateRequired'), trigger: 'change' }
  ],
  wordCount: [
    { 
      validator: (rule, value, callback) => {
        if (!validateReportWordCount(value)) {
          callback(new Error(t('report.generate.wordCountFormat')))
        } else {
          callback()
        }
      }, 
      trigger: 'blur' 
    }
  ]
}

// æ•°æ®æºï¼ˆé€šè¿‡æ¥å£è·å–ï¼‰
const projects = ref([])
const workflows = ref([])
const templates = ref([])

// è®¡ç®—å±æ€§
const canGenerate = computed(() => {
  return configForm.projectId && 
         configForm.workflowId && 
         configForm.reportType && 
         configForm.templateId &&
         !isGenerating.value
})

// æ–¹æ³•
const handleBack = () => {
  if (isGenerating.value) {
    ElMessageBox.confirm(
      t('report.generate.backConfirm'),
      t('common.confirm'),
      {
        confirmButtonText: t('common.confirm'),
        cancelButtonText: t('common.cancel'),
        type: 'warning'
      }
    ).then(() => {
      router.push('/report/list')
    }).catch(() => {
      // ç”¨æˆ·å–æ¶ˆ
    })
  } else {
    router.push('/report/list')
  }
}

const handleProjectChange = (projectId) => {
  const project = projects.value.find(p => p.id === projectId)
  if (project) {
    ElMessage.success(t('report.generate.projectSelected', { name: project.name }))
  }
}

const handleWorkflowChange = (workflowId) => {
  const workflow = workflows.value.find(w => w.id === workflowId)
  if (workflow) {
    ElMessage.success(t('report.generate.workflowSelected', { name: workflow.name }))
  }
}

const handleGenerate = async () => {
  try {
    await configFormRef.value.validate()
    
    isGenerating.value = true
    generateProgress.value = 0
    generateMessages.value = []
    reportContent.value = ''
    
    // æ·»åŠ å¼€å§‹æ¶ˆæ¯
    addMessage('info', t('report.generate.startMessage'))
    
    // TODO: æ›¿æ¢ä¸ºå®é™…åç«¯æ¥å£
    // const { data } = await generateReport({
    //   projectId: configForm.projectId,
    //   workflowId: configForm.workflowId,
    //   reportType: configForm.reportType,
    //   templateId: configForm.templateId,
    //   wordCount: configForm.wordCount,
    //   includeCharts: configForm.includeCharts,
    //   includeImages: configForm.includeImages,
    //   customPrompt: configForm.customPrompt
    // })
    // reportContent.value = data.content
    // isGenerating.value = false
    // addMessage('success', t('report.generate.generateSuccess'))
    
    ElMessage.success(t('report.generate.generateSuccess'))
  } catch (error) {
    ElMessage.error(t('report.generate.generateError'))
  }
}


const addMessage = (type, text) => {
  generateMessages.value.push({
    type,
    text,
    timestamp: new Date()
  })
  
  // é™åˆ¶æ¶ˆæ¯æ•°é‡
  if (generateMessages.value.length > 50) {
    generateMessages.value.shift()
  }
}

const handleStopGenerate = async () => {
  try {
    await ElMessageBox.confirm(
      t('report.generate.stopConfirm'),
      t('common.confirm'),
      {
        confirmButtonText: t('common.confirm'),
        cancelButtonText: t('common.cancel'),
        type: 'warning'
      }
    )
    
    isGenerating.value = false
    addMessage('warning', t('report.generate.stopped'))
    ElMessage.info(t('report.generate.stopped'))
  } catch (error) {
    // ç”¨æˆ·å–æ¶ˆ
  }
}

const toggleEditMode = () => {
  isEditMode.value = !isEditMode.value
  ElMessage.info(
    isEditMode.value 
      ? t('report.generate.editModeOn') 
      : t('report.generate.editModeOff')
  )
}

const handleSave = async () => {
  try {
    // TODO: å®ç°ä¿å­˜åŠŸèƒ½ï¼ˆåç«¯æ¥å£ï¼šä¿å­˜æŠ¥å‘Šå†…å®¹ï¼‰
    // await saveReport({
    //   projectId: configForm.projectId,
    //   content: reportContent.value,
    //   type: configForm.reportType
    // })
    
    ElMessage.success(t('report.generate.saveSuccess'))
  } catch (error) {
    ElMessage.error(t('report.generate.saveError'))
  }
}

const handleDownload = async (format) => {
  try {
    ElMessage.info(t('report.generate.downloading', { format: format.toUpperCase() }))
    
    // TODO: å®ç°ä¸‹è½½åŠŸèƒ½ï¼ˆåç«¯æ¥å£ï¼šå¯¼å‡ºæŒ‡å®šæ ¼å¼æŠ¥å‘Šï¼‰
    // await downloadReport({
    //   content: reportContent.value,
    //   format: format,
    //   projectId: configForm.projectId
    // })
    
    ElMessage.success(t('report.generate.downloadSuccess', { format: format.toUpperCase() }))
  } catch (error) {
    ElMessage.error(t('report.generate.downloadError'))
  }
}

const handleRegenerate = async () => {
  try {
    await ElMessageBox.confirm(
      t('report.generate.regenerateConfirm'),
      t('common.confirm'),
      {
        confirmButtonText: t('common.confirm'),
        cancelButtonText: t('common.cancel'),
        type: 'warning'
      }
    )
    
    reportContent.value = ''
    isEditMode.value = false
    await handleGenerate()
  } catch (error) {
    // ç”¨æˆ·å–æ¶ˆ
  }
}

// å·¥å…·å‡½æ•°
const formatTime = (date) => {
  return date.toLocaleTimeString('zh-CN', { 
    hour: '2-digit', 
    minute: '2-digit', 
    second: '2-digit' 
  })
}

onMounted(() => {
  // åˆå§‹åŒ–æ•°æ®
  loadProjects()
  loadWorkflows()
  loadTemplates()
  ElMessage.info(t('report.generate.welcomeMessage'))
})

// æ•°æ®åŠ è½½æ–¹æ³•
const loadProjects = async () => {
  try {
    // TODO: æ›¿æ¢ä¸ºå®é™…åç«¯æ¥å£
    // const { data } = await getProjects()
    // projects.value = data

    // ä¸´æ—¶æ¨¡æ‹Ÿæ•°æ®ï¼ˆåç«¯å¼€å‘å®Œæˆååˆ é™¤ï¼‰
    // projects.value = [
    //   {
    //     id: '1',
    //     name: 'åŸºäºæ·±åº¦å­¦ä¹ çš„å›¾åƒè¯†åˆ«æŠ€æœ¯ç ”ç©¶',
    //     code: 'AI2024001',
    //     description: 'äººå·¥æ™ºèƒ½ç ”ç©¶é¡¹ç›®'
    //   },
    //   {
    //     id: '2',
    //     name: 'æ™ºèƒ½ç‰©è”ç½‘ç³»ç»Ÿå…³é”®æŠ€æœ¯ç ”å‘',
    //     code: 'IOT2024002',
    //     description: 'ç‰©è”ç½‘æŠ€æœ¯é¡¹ç›®'
    //   }
    // ]
  } catch (error) {
    ElMessage.error(t('report.generate.loadProjectsError'))
  }
}

const loadWorkflows = async () => {
  try {
    // TODO: æ›¿æ¢ä¸ºå®é™…åç«¯æ¥å£
    // const { data } = await getWorkflows()
    // workflows.value = data

    // ä¸´æ—¶æ¨¡æ‹Ÿæ•°æ®ï¼ˆåç«¯å¼€å‘å®Œæˆååˆ é™¤ï¼‰
    // workflows.value = [
    //   {
    //     id: '1',
    //     name: 'æ ‡å‡†ç§‘æŠ€æŠ¥å‘Šæµç¨‹',
    //     description: 'é€‚ç”¨äºä¸€èˆ¬ç§‘æŠ€é¡¹ç›®çš„æ ‡å‡†æŠ¥å‘Šç”Ÿæˆæµç¨‹'
    //   },
    //   {
    //     id: '2',
    //     name: 'è‡ªè¯„æŠ¥å‘Šæµç¨‹',
    //     description: 'é€‚ç”¨äºé¡¹ç›®è‡ªè¯„çš„ç®€åŒ–æŠ¥å‘Šç”Ÿæˆæµç¨‹'
    //   }
    // ]
  } catch (error) {
    ElMessage.error(t('report.generate.loadWorkflowsError'))
  }
}

const loadTemplates = async () => {
  try {
    // TODO: æ›¿æ¢ä¸ºå®é™…åç«¯æ¥å£
    // const { data } = await getTemplates()
    // templates.value = data

    // ä¸´æ—¶æ¨¡æ‹Ÿæ•°æ®ï¼ˆåç«¯å¼€å‘å®Œæˆååˆ é™¤ï¼‰
    // templates.value = [
    //   {
    //     id: '1',
    //     name: 'ç§‘æŠ€æŠ¥å‘Šæ ‡å‡†æ¨¡æ¿',
    //     description: 'åŒ…å«é¡¹ç›®æ¦‚è¿°ã€æŠ€æœ¯æ–¹æ¡ˆã€å®æ–½è¿‡ç¨‹ã€æˆæœå±•ç¤ºç­‰ç« èŠ‚'
    //   },
    //   {
    //     id: '2',
    //     name: 'è‡ªè¯„æŠ¥å‘Šæ¨¡æ¿',
    //     description: 'åŒ…å«é¡¹ç›®æ‰§è¡Œæƒ…å†µã€ç›®æ ‡è¾¾æˆåº¦ã€é—®é¢˜åˆ†æç­‰ç« èŠ‚'
    //   }
    // ]
  } catch (error) {
    ElMessage.error(t('report.generate.loadTemplatesError'))
  }
}
</script>
```

### 3. æ ·å¼å®ç°
```scss
<style lang="scss" scoped>
.report-generate-container {
  padding: 20px;
  background: #f7f9fc;
  min-height: calc(100vh - 56px);
}

.page-header {
  margin-bottom: 20px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

.back-button {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #6b7280;
  border: 1px solid #e5e7eb;
  background: #ffffff;
  
  &:hover {
    color: #1e3a8a;
    border-color: #1e3a8a;
  }
}

.page-title {
  font-size: 24px;
  font-weight: 600;
  color: #1e3a8a;
  margin: 0;
}

.content-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  align-items: start;
}

.config-card {
  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: #111827;
    }
  }
}

.config-form {
  .el-form-item {
    margin-bottom: 20px;
  }
  
  .form-actions {
    margin-top: 32px;
    margin-bottom: 0;
    text-align: center;
    
    .el-button {
      min-width: 140px;
    }
  }
}

.project-option,
.workflow-option,
.template-option {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.project-name,
.workflow-name,
.template-name {
  font-weight: 600;
  color: #111827;
}

.project-code,
.workflow-desc,
.template-desc {
  font-size: 12px;
  color: #6b7280;
}

.advanced-config {
  margin-top: 20px;
  
  :deep(.el-collapse-item__header) {
    font-weight: 600;
    color: #374151;
  }
}

.process-card {
  .progress-section {
    margin-bottom: 24px;
  }
  
  .progress-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  
  .progress-text {
    font-size: 14px;
    font-weight: 600;
    color: #1e3a8a;
  }
  
  .progress-status {
    font-size: 12px;
    color: #6b7280;
  }
  
  .messages-section {
    h4 {
      margin: 0 0 12px 0;
      font-size: 14px;
      font-weight: 600;
      color: #374151;
    }
  }
  
  .messages-list {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    padding: 8px;
  }
  
  .message-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 4px;
    margin-bottom: 4px;
    font-size: 13px;
    
    &.info {
      background: #f0f9ff;
      color: #0369a1;
    }
    
    &.success {
      background: #f0fdf4;
      color: #166534;
    }
    
    &.warning {
      background: #fffbeb;
      color: #d97706;
    }
    
    &.error {
      background: #fef2f2;
      color: #dc2626;
    }
    
    .message-icon {
      font-size: 14px;
    }
    
    .message-text {
      flex: 1;
    }
    
    .message-time {
      font-size: 11px;
      opacity: 0.7;
    }
  }
}

.preview-card {
  grid-column: 1 / -1;
  
  .preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: #111827;
    }
  }
  
  .preview-actions {
    display: flex;
    gap: 8px;
  }
  
  .preview-content {
    .editor-container {
      .content-editor {
        :deep(.el-textarea__inner) {
          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
          font-size: 14px;
          line-height: 1.6;
        }
      }
    }
    
    .preview-container {
      .report-preview {
        min-height: 400px;
        padding: 24px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        font-size: 14px;
        line-height: 1.8;
        color: #374151;
        
        h1 {
          font-size: 24px;
          font-weight: 700;
          color: #111827;
          margin: 0 0 24px 0;
          padding-bottom: 12px;
          border-bottom: 2px solid #e5e7eb;
        }
        
        h2 {
          font-size: 20px;
          font-weight: 600;
          color: #1e3a8a;
          margin: 32px 0 16px 0;
        }
        
        p {
          margin: 0 0 16px 0;
        }
        
        ul {
          margin: 0 0 16px 0;
          padding-left: 24px;
          
          li {
            margin-bottom: 8px;
          }
        }
      }
    }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 1200px) {
  .content-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .report-generate-container {
    padding: 16px;
  }
  
  .header-left {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  .config-form {
    .form-actions {
      .el-button {
        width: 100%;
        margin-bottom: 8px;
      }
    }
  }
  
  .preview-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  .preview-actions {
    width: 100%;
    flex-wrap: wrap;
    
    .el-button {
      flex: 1;
      min-width: 80px;
    }
  }
}
</style>
```

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **é…ç½®è¡¨å•**ï¼šå®Œæ•´çš„é¡¹ç›®ã€å·¥ä½œæµã€æ¨¡æ¿é€‰æ‹©ï¼Œæ”¯æŒé«˜çº§é…ç½®é€‰é¡¹
2. **ç”Ÿæˆè¿‡ç¨‹**ï¼šå®æ—¶è¿›åº¦æ˜¾ç¤ºã€çŠ¶æ€æ¶ˆæ¯ã€å¯ä¸­æ–­ç”Ÿæˆ
3. **é¢„è§ˆç¼–è¾‘**ï¼šæ”¯æŒHTMLé¢„è§ˆå’Œæ–‡æœ¬ç¼–è¾‘ä¸¤ç§æ¨¡å¼
4. **æŠ¥å‘Šæ“ä½œ**ï¼šä¿å­˜ã€ä¸‹è½½ï¼ˆå¤šæ ¼å¼ï¼‰ã€é‡æ–°ç”Ÿæˆç­‰å®Œæ•´åŠŸèƒ½
5. **å“åº”å¼å¸ƒå±€**ï¼šæ¡Œé¢ç«¯åŒæ å¸ƒå±€ï¼Œç§»åŠ¨ç«¯å•æ å¸ƒå±€
6. **å›½é™…åŒ–æ”¯æŒ**ï¼šæ‰€æœ‰æ–‡æœ¬ä½¿ç”¨$t()å‡½æ•°
7. **Mockæ•°æ®**ï¼šåŒ…å«TODOæ³¨é‡Šï¼Œä¾¿äºåç«¯é›†æˆ
8. **ç”¨æˆ·ä½“éªŒ**ï¼šåŠ è½½çŠ¶æ€ã€ç¡®è®¤å¯¹è¯æ¡†ã€æ“ä½œåé¦ˆç­‰

**æœ€ç»ˆè¦æ±‚ï¼šç”Ÿæˆçš„ä»£ç å¿…é¡»ä¸åŸå‹å›¾çš„è§†è§‰æ•ˆæœå’Œäº¤äº’é€»è¾‘å®Œå…¨ä¸€è‡´ï¼**
