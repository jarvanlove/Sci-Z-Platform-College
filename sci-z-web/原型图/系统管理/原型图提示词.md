# 系统管理原型图设计提示词

## 🎯 设计目标

设计完整的系统管理原型，包括用户管理、角色权限管理、系统配置和日志管理，确保系统管理的安全性和易用性。

## 📚 必读参考文件

### 通用规范文件

1. **`原型图/通用规范/样式与主题.md`** - 色彩和字体规范
2. **`原型图/通用规范/布局与导航.md`** - 布局设计规范
3. **`原型图/通用规范/表单与表格规范.md`** - 表单和表格设计规范
4. **`原型图/通用规范/样式.css`** - 统一样式规范
5. **`原型图/通用规范/页面跳转与交互规范.md`** - 页面跳转和交互规范
6. **`原型图/通用规范/原型图设计补充要求.md`** - 原型图设计补充要求

### 系统管理模块专用组件

6. **`原型图/通用规范/组件-通用表格.html`** - 用户列表表格
7. **`原型图/通用规范/分页组件使用说明.md`** - 分页组件使用方法
8. **`原型图/通用规范/组件-通用表单.html`** - 用户编辑表单
9. **`原型图/通用规范/指令-v-permission-示例.html`** - 权限控制指令
10. **`原型图/通用规范/组件-卡片与栅格示例.html`** - 配置页面卡片布局
11. **`原型图/通用规范/组件-面包屑与页面头.html`** - 页面导航组件
12. **`原型图/通用规范/组件-空状态与结果页.html`** - 空状态处理组件
13. **`原型图/通用规范/交互-加载与反馈.html`** - 操作反馈和状态处理

### 模块特定文件

14. **`原型图/系统管理/说明.md`** - 系统管理模块功能说明
15. **`原型图/系统管理/字段与交互清单.md`** - 具体字段和交互要求

## 🎨 设计约束

### 色彩规范

- **主色调**：#1E3A8A（学术蓝）
- **辅色调**：#0EA5E9（科研活力蓝）
- **背景色**：#F7F9FC（页面背景）
- **卡片背景**：#FFFFFF（内容卡片）
- **成功色**：#16A34A（操作成功）
- **警告色**：#F59E0B（警告信息）
- **错误色**：#DC2626（错误信息）
- **信息色**：#2563EB（信息提示）

### 布局规范

- **页面布局**：24 栅格系统
- **卡片样式**：圆角 8px，阴影 Level 1，内边距 20px
- **表单布局**：标签宽度 120px，表单项间距 20px
- **表格布局**：行高 48px，操作列右对齐

### 组件规范

- **权限树**：树形结构展示权限
- **状态标签**：不同颜色表示不同状态
- **角色标签**：不同颜色表示不同角色
- **操作按钮**：权限控制显示

## 📋 页面设计要求

### 用户管理页面设计

#### 页面结构

1. **页面标题**：用户管理
2. **操作区域**：新建用户按钮（右上角）
3. **筛选区域**：关键词搜索、角色筛选、状态筛选
4. **列表区域**：用户记录表格
5. **分页区域**：分页组件

#### 筛选功能设计

- **关键词搜索**：

  - 输入框：支持用户名、真实姓名、学工号搜索
  - 占位符：请输入用户名、姓名或学工号
  - 搜索按钮：立即搜索

- **角色筛选**：

  - 下拉选择：全部、管理员、教师、学生
  - 默认值：全部
  - 实时筛选：选择后立即更新列表

- **状态筛选**：
  - 下拉选择：全部、正常、禁用
  - 默认值：全部
  - 实时筛选：选择后立即更新列表

#### 用户列表表格设计

- **用户名**：宽度 120px，左对齐
- **真实姓名**：宽度 100px，居中
- **学工号**：宽度 120px，居中
- **邮箱**：宽度 150px，左对齐，超长省略
- **所属院系**：宽度 120px，居中
- **角色**：宽度 100px，标签显示
- **状态**：宽度 100px，标签显示
- **操作**：宽度 150px，操作按钮组

#### 角色标签设计

- **管理员**：错误色标签
- **教师**：主色调标签
- **学生**：信息色标签

#### 状态标签设计

- **正常**：成功色标签
- **禁用**：错误色标签

#### 操作按钮设计

- **编辑用户**：主要操作，Primary 色
- **重置密码**：次要操作，警告色
- **禁用/启用**：次要操作，边框 Primary 色
- **删除用户**：危险操作，错误色（仅管理员）

#### 新建用户表单设计

- **基本信息**：

  - 用户名：输入框，必填，唯一性验证
  - 真实姓名：输入框，必填
  - 学工号：输入框，必填，唯一性验证
  - 邮箱：输入框，必填，邮箱格式验证
  - 手机号：输入框，必填，手机号格式验证
  - 所属院系：下拉选择，必选
  - 角色：单选按钮，必选

- **密码设置**：

  - 初始密码：输入框，必填，密码强度验证
  - 确认密码：输入框，必填，与初始密码一致

- **表单验证**：
  - 实时验证：失焦时验证
  - 异步验证：用户名、学工号唯一性检查
  - 错误提示：输入框下方红色文字
  - 成功提示：绿色对勾图标

### 角色权限管理页面设计

#### 页面结构

1. **页面标题**：角色权限管理
2. **操作区域**：新建角色按钮（右上角）
3. **角色列表**：角色信息表格
4. **权限配置**：权限树形结构
5. **操作区域**：保存权限按钮

#### 角色列表表格设计

- **角色名称**：宽度 150px，左对齐
- **角色描述**：宽度 200px，左对齐，超长省略
- **用户数量**：宽度 100px，居中
- **创建时间**：宽度 120px，居中
- **操作**：宽度 120px，操作按钮组

#### 操作按钮设计

- **编辑角色**：主要操作，Primary 色
- **删除角色**：危险操作，错误色（仅系统管理员）
- **配置权限**：次要操作，边框 Primary 色

#### 权限配置设计

- **权限树结构**：

  - 一级菜单：系统管理、用户管理、申报管理、项目管理、验收管理
  - 二级菜单：具体功能模块
  - 三级权限：具体操作权限

- **权限树样式**：
  - 树形结构：缩进显示层级关系
  - 复选框：支持全选/半选状态
  - 展开/收起：支持节点展开收起
  - 搜索功能：支持权限名称搜索

#### 权限分类设计

- **菜单权限**：menu:开头，控制菜单显示
- **按钮权限**：btn:开头，控制按钮显示
- **数据权限**：data:开头，控制数据访问
- **接口权限**：api:开头，控制接口调用

#### 权限配置表单设计

- **角色信息**：

  - 角色名称：输入框，必填
  - 角色描述：文本域，可选
  - 权限选择：权限树，必选

- **权限验证**：
  - 必选验证：至少选择一个权限
  - 层级验证：选择子权限必须选择父权限
  - 冲突验证：检查权限冲突

#### 新建角色表单设计

- **基本信息**：

  - 角色名称：输入框，必填，唯一性验证
  - 角色描述：文本域，可选
  - 角色类型：下拉选择，必选

- **权限设置**：
  - 权限模板：预设权限模板选择
  - 自定义权限：手动选择权限
  - 权限预览：显示选中权限列表

### 系统配置页面设计

#### 页面结构

1. **页面标题**：系统配置
2. **配置分类**：配置项分类标签页
3. **配置表单**：配置项表单
4. **操作区域**：保存配置按钮

#### 配置分类设计

- **基本配置**：系统基本信息配置
- **邮件配置**：邮件服务配置
- **文件配置**：文件上传配置
- **安全配置**：安全策略配置

#### 基本配置表单设计

- **系统名称**：输入框，系统显示名称
- **系统描述**：文本域，系统描述信息
- **系统版本**：输入框，系统版本号
- **联系邮箱**：输入框，系统联系邮箱
- **联系电话**：输入框，系统联系电话

#### 邮件配置表单设计

- **SMTP 服务器**：输入框，邮件服务器地址
- **SMTP 端口**：输入框，邮件服务器端口
- **发送邮箱**：输入框，发送方邮箱
- **邮箱密码**：密码框，邮箱密码
- **SSL 加密**：复选框，是否启用 SSL

#### 文件配置表单设计

- **上传路径**：输入框，文件上传路径
- **文件大小限制**：输入框，单个文件大小限制
- **允许格式**：标签输入，允许的文件格式
- **存储方式**：单选按钮，本地存储/云存储

#### 安全配置表单设计

- **登录失败次数**：输入框，允许登录失败次数
- **密码最小长度**：输入框，密码最小长度要求
- **密码复杂度**：复选框，密码复杂度要求
- **会话超时时间**：输入框，会话超时时间

#### 配置验证设计

- **实时验证**：输入时验证格式
- **保存验证**：保存前验证所有配置
- **测试功能**：邮件配置测试功能
- **错误提示**：配置错误提示信息

### 日志管理页面设计

#### 页面结构

1. **页面标题**：系统日志
2. **筛选区域**：时间筛选、日志级别筛选、用户筛选
3. **列表区域**：日志记录表格
4. **分页区域**：分页组件
5. **操作区域**：导出日志、清空日志按钮

#### 筛选功能设计

- **时间筛选**：

  - 日期选择器：开始时间-结束时间
  - 快捷选择：今天、昨天、本周、本月
  - 默认值：最近 7 天

- **日志级别筛选**：

  - 下拉选择：全部、INFO、WARN、ERROR
  - 默认值：全部
  - 实时筛选：选择后立即更新列表

- **用户筛选**：
  - 输入框：支持用户名搜索
  - 占位符：请输入用户名
  - 搜索按钮：立即搜索

#### 日志列表表格设计

- **时间**：宽度 150px，左对齐
- **级别**：宽度 80px，标签显示
- **用户**：宽度 100px，居中
- **操作**：宽度 150px，左对齐，超长省略
- **IP 地址**：宽度 120px，居中
- **详情**：宽度 200px，左对齐，超长省略
- **操作**：宽度 80px，查看详情按钮

#### 日志级别标签设计

- **INFO**：信息色标签
- **WARN**：警告色标签
- **ERROR**：错误色标签

#### 日志详情设计

- **详情弹窗**：
  - 日志时间：详细时间戳
  - 日志级别：级别标签
  - 操作用户：用户信息
  - 操作内容：详细操作内容
  - 请求参数：请求参数信息
  - 响应结果：响应结果信息
  - IP 地址：访问 IP 地址
  - 用户代理：浏览器信息

## 🔧 技术实现要求

### Vue 组件结构

```javascript
// 用户管理组件结构
{
  data: {
    users: [],
    loading: false,
    searchForm: {
      keyword: '',
      role: '',
      status: ''
    },
    pagination: {
      current: 1,
      size: 10,
      total: 0
    },
    showAddDialog: false,
    editForm: {}
  },
  methods: {
    loadUsers(),
    handleSearch(),
    handleRoleChange(),
    handleStatusChange(),
    handleAdd(),
    handleEdit(id),
    handleDelete(id),
    handleResetPassword(id),
    handleToggleStatus(id)
  }
}

// 角色权限组件结构
{
  data: {
    roles: [],
    permissions: [],
    loading: false,
    showAddDialog: false,
    showPermissionDialog: false,
    editForm: {},
    checkedKeys: []
  },
  methods: {
    loadRoles(),
    loadPermissions(),
    handleAdd(),
    handleEdit(id),
    handleDelete(id),
    handleConfigPermission(id),
    handleSavePermission()
  }
}

// 系统配置组件结构
{
  data: {
    configs: {},
    loading: false,
    activeTab: 'basic',
    testEmailLoading: false
  },
  methods: {
    loadConfigs(),
    handleSave(),
    handleTestEmail(),
    validateConfigs()
  }
}

// 日志管理组件结构
{
  data: {
    logs: [],
    loading: false,
    searchForm: {
      dateRange: [],
      level: '',
      user: ''
    },
    pagination: {
      current: 1,
      size: 20,
      total: 0
    },
    showDetailDialog: false,
    logDetail: {}
  },
  methods: {
    loadLogs(),
    handleSearch(),
    handleLevelChange(),
    handleDateChange(),
    handleViewDetail(log),
    handleExport(),
    handleClear()
  }
}
```

### 权限控制实现

- **菜单权限**：根据用户权限动态显示菜单
- **按钮权限**：根据用户权限显示/隐藏按钮
- **数据权限**：根据用户角色过滤数据
- **接口权限**：后端接口权限验证

### 权限树实现

- **树形结构**：使用 Element Plus Tree 组件
- **权限选择**：支持全选、半选、取消选择
- **权限搜索**：支持权限名称模糊搜索
- **权限验证**：选择子权限必须选择父权限

### 配置管理实现

- **配置分类**：使用 Tab 组件分类显示
- **配置验证**：实时验证配置格式
- **配置测试**：邮件配置测试功能
- **配置保存**：批量保存配置项

### 日志管理实现

- **日志查询**：支持多条件组合查询
- **日志导出**：支持 Excel 格式导出
- **日志详情**：弹窗显示详细日志信息
- **日志清理**：定期清理过期日志

## ✅ 质量检查标准

### 功能完整性

- [ ] 用户管理功能完整
- [ ] 角色权限管理正常
- [ ] 系统配置功能正常
- [ ] 日志管理功能正常
- [ ] 权限控制正确
- [ ] 数据验证准确

### 视觉一致性

- [ ] 颜色使用符合规范
- [ ] 表格样式统一
- [ ] 表单样式统一
- [ ] 状态标签样式统一
- [ ] 间距使用符合规范

### 交互体验

- [ ] 表单验证实时准确
- [ ] 权限树操作便捷
- [ ] 配置测试功能正常
- [ ] 日志查询体验良好
- [ ] 操作反馈明确

### 安全性

- [ ] 权限控制严格
- [ ] 敏感信息保护
- [ ] 操作日志记录
- [ ] 数据验证完整

## 🚀 输出要求

### 文件命名

- 用户管理页面：`用户管理.html`
- 角色权限页面：`角色权限.html`
- 系统配置页面：`系统配置.html`
- 日志管理页面：`日志管理.html`

### 保存位置

- `原型图/系统管理/用户管理.html`
- `原型图/系统管理/角色权限.html`
- `原型图/系统管理/系统配置.html`
- `原型图/系统管理/日志管理.html`

### 代码要求

- 完整的 HTML 文档结构
- Vue 3 Composition API 语法
- Element Plus 组件使用
- 权限控制组件集成
- 格式化良好的代码
- 详细的注释说明

### 功能演示

- 包含完整的交互逻辑
- 模拟真实的系统管理流程
- 展示各种状态效果
- 实现权限控制功能
- 支持数据验证和提交

### 特殊要求

- **权限控制**：完整的权限树和权限验证
- **角色管理**：角色创建、编辑、删除功能
- **系统配置**：多分类配置项管理
- **日志管理**：日志查询、导出、详情查看
- **数据验证**：完整的表单验证和错误处理
