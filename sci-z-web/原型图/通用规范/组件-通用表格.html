<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>组件-通用表格</title>
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-plus/dist/index.css"
    />
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://unpkg.com/element-plus"></script>
    <link rel="stylesheet" href="样式.css" />
  </head>
  <body>
    <div id="app" class="content">
      <div class="card">
        <h3 class="title">列表与搜索（示例）</h3>
        <div class="card" style="margin-bottom: 12px">
          <el-form :inline="true" :model="q">
            <el-form-item label="关键词"
              ><el-input v-model="q.keyword" placeholder="请输入"
            /></el-form-item>
            <el-form-item label="状态">
              <el-select v-model="q.status" placeholder="全部">
                <el-option label="全部" value="" />
                <el-option label="进行中" value="1" />
                <el-option label="已完成" value="2" />
              </el-select>
            </el-form-item>
            <el-form-item>
              <el-button type="primary" @click="search">查询</el-button>
              <el-button @click="reset">重置</el-button>
            </el-form-item>
          </el-form>
        </div>
        <el-table :data="rows" style="width: 100%">
          <el-table-column prop="id" label="ID" width="80" />
          <el-table-column prop="name" label="名称" />
          <el-table-column prop="statusText" label="状态" width="120" />
          <el-table-column label="操作" width="160">
            <template #default="{row}">
              <el-button text type="primary" @click="edit(row)">编辑</el-button>
              <el-popconfirm title="确认删除？" @confirm="del(row)">
                <template #reference
                  ><el-button text type="danger">删除</el-button></template
                >
              </el-popconfirm>
            </template>
          </el-table-column>
        </el-table>
        <div style="margin-top: 12px; text-align: right">
          <el-pagination
            background
            layout="prev, pager, next, sizes, total"
            :total="total"
            :page-sizes="[10,20,50]"
          />
        </div>
      </div>
    </div>
    <script>
      const { createApp, ref } = Vue;
      createApp({
        setup() {
          const q = ref({ keyword: "", status: "" });
          const rows = ref([
            { id: 1, name: "示例A", status: 1, statusText: "进行中" },
            { id: 2, name: "示例B", status: 2, statusText: "已完成" },
          ]);
          const total = ref(2);
          const search = () => ElMessage.info("查询（示例）");
          const reset = () => {
            q.value = { keyword: "", status: "" };
          };
          const edit = (r) => ElMessage.info("编辑 " + r.name);
          const del = (r) => ElMessage.success("已删除 " + r.name);
          return { q, rows, total, search, reset, edit, del };
        },
      }).mount("#app");
    </script>
  </body>
</html>
