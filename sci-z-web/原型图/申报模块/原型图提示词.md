# 申报模块原型图设计提示词

## 🎯 设计目标

设计科研项目申报流程的完整原型，包括申报列表、新建申报和申报详情页面，确保申报流程的清晰性和易用性。

## 📚 必读参考文件

### 通用规范文件

1. **`原型图/通用规范/样式与主题.md`** - 色彩和字体规范
2. **`原型图/通用规范/布局与导航.md`** - 布局设计规范
3. **`原型图/通用规范/表单与表格规范.md`** - 表单和表格设计规范
4. **`原型图/通用规范/样式.css`** - 统一样式规范
5. **`原型图/通用规范/页面跳转与交互规范.md`** - 页面跳转和交互规范
6. **`原型图/通用规范/原型图设计补充要求.md`** - 原型图设计补充要求

### 申报模块专用组件

7. **`原型图/通用规范/组件-通用表单.html`** - 申报表单组件
8. **`原型图/通用规范/组件-通用表格.html`** - 申报列表表格
9. **`原型图/通用规范/组件-富文本与标签输入.html`** - 研究方向输入组件
10. **`原型图/通用规范/组件-面包屑与页面头.html`** - 页面导航组件
11. **`原型图/通用规范/组件-空状态与结果页.html`** - 空状态处理组件
12. **`原型图/通用规范/交互-加载与反馈.html`** - 表单验证和工作流状态反馈

### 模块特定文件

13. **`原型图/申报模块/说明.md`** - 申报模块功能说明
14. **`原型图/申报模块/字段与交互清单.md`** - 具体字段和交互要求

## 🎨 设计约束

### 色彩规范

- **主色调**：#1E3A8A（学术蓝）
- **辅色调**：#0EA5E9（科研活力蓝）
- **背景色**：#F7F9FC（页面背景）
- **卡片背景**：#FFFFFF（内容卡片）
- **成功色**：#16A34A（申报成功）
- **警告色**：#F59E0B（申报中）
- **错误色**：#DC2626（申报失败）
- **信息色**：#2563EB（已撤回）

### 布局规范

- **页面布局**：24 栅格系统
- **卡片样式**：圆角 8px，阴影 Level 1，内边距 20px
- **表单布局**：标签宽度 120px，表单项间距 20px
- **表格布局**：行高 48px，操作列右对齐

### 组件规范

- **富文本编辑器**：支持格式化文本输入
- **标签输入框**：支持多选标签，回车添加
- **状态标签**：不同颜色表示不同状态
- **进度指示器**：申报流程进度显示

## 📋 页面设计要求

### 申报列表页面设计

#### 页面结构

1. **页面标题**：申报管理
2. **操作区域**：新建申报按钮（右上角）
3. **筛选区域**：关键词搜索、状态筛选
4. **列表区域**：申报记录表格
5. **分页区域**：分页组件

#### 筛选功能设计

- **关键词搜索**：

  - 输入框：支持研究方向、研究领域搜索
  - 占位符：请输入关键词
  - 搜索按钮：立即搜索

- **状态筛选**：
  - 下拉选择：全部、草稿、申报中、申报成功、申报失败、已撤回
  - 默认值：全部
  - 实时筛选：选择后立即更新列表

#### 申报列表表格设计

- **申报编号**：宽度 120px，左对齐
- **申报人**：宽度 100px，居中
- **研究方向**：宽度 200px，左对齐，超长省略
- **研究领域**：宽度 150px，标签显示
- **申报时间**：宽度 120px，居中
- **状态**：宽度 100px，标签显示
- **操作**：宽度 120px，操作按钮组

#### 状态标签设计

- **草稿**：默认色标签
- **申报中**：警告色标签
- **申报成功**：成功色标签
- **申报失败**：错误色标签
- **已撤回**：信息色标签

#### 操作按钮设计

- **查看详情**：主要操作，Primary 色
- **撤回申报**：次要操作，警告色（仅申报中状态）
- **重新申报**：次要操作，信息色（仅失败状态）

### 新建申报页面设计

#### 页面结构

1. **页面标题**：新建申报
2. **返回按钮**：返回列表页
3. **表单区域**：申报信息填写
4. **操作区域**：提交、保存草稿按钮

#### 申报表单设计

- **研究方向**：

  - 输入框：富文本编辑器
  - 验证：必填，最少 10 个字符
  - 占位符：请详细描述您的研究方向...
  - 功能：支持格式化文本，自动保存

- **研究领域**：
  - 输入框：标签输入组件
  - 验证：必填，至少选择 1 个领域
  - 选项：人工智能、医学影像、材料科学、数学、物理等
  - 功能：支持自定义标签，回车添加

#### 富文本编辑器设计

- **工具栏**：粗体、斜体、下划线、列表
- **字数统计**：实时显示字符数
- **自动保存**：每 30 秒自动保存草稿
- **格式限制**：纯文本，不支持图片

#### 标签输入设计

- **预设选项**：常用研究领域
- **自定义输入**：支持输入新标签
- **标签样式**：圆角标签，可删除
- **数量限制**：最多选择 10 个领域

#### 表单验证设计

- **实时验证**：

  - 研究方向：字符数实时统计
  - 研究领域：标签数量实时显示
  - 必填提示：红色星号标识

- **提交验证**：
  - 研究方向：最少 10 个字符
  - 研究领域：至少选择 1 个
  - 错误提示：表单顶部统一显示

#### 操作按钮设计

- **提交申报**：主按钮，Primary 色
- **保存草稿**：次按钮，边框 Primary 色
- **返回列表**：文字按钮
- **按钮状态**：提交时显示加载状态

### 申报详情页面设计

#### 页面结构

1. **页面标题**：申报详情
2. **返回按钮**：返回列表页
3. **基本信息**：申报信息展示
4. **工作流状态**：Dify 工作流执行状态
5. **操作区域**：撤回、重新申报按钮

#### 基本信息展示

- **申报编号**：系统生成的唯一编号
- **申报人**：用户真实姓名
- **研究方向**：富文本内容展示
- **研究领域**：标签形式展示
- **申报时间**：创建和提交时间
- **当前状态**：状态标签显示

#### 工作流状态设计

- **执行状态**：

  - 待提交：灰色状态
  - 执行中：加载动画，蓝色状态
  - 执行成功：成功图标，绿色状态
  - 执行失败：错误图标，红色状态

- **进度显示**：
  - 进度条：显示执行进度
  - 时间信息：开始时间、预计完成时间
  - 详细信息：工作流执行日志

#### 结果展示设计

- **成功结果**：

  - Dify 项目 ID：显示生成的项目标识
  - 项目信息：项目名称、描述
  - 下一步提示：跳转项目管理

- **失败结果**：
  - 错误信息：详细的失败原因
  - 建议操作：重新申报或联系管理员
  - 重试按钮：重新提交申报

#### 操作按钮设计

- **撤回申报**：仅申报中状态显示
- **重新申报**：仅失败状态显示
- **查看项目**：仅成功状态显示
- **编辑申报**：仅草稿状态显示

## 🔧 技术实现要求

### Vue 组件结构

```javascript
// 申报列表组件结构
{
  data: {
    declarations: [],
    loading: false,
    searchForm: {
      keyword: '',
      status: ''
    },
    pagination: {
      current: 1,
      size: 10,
      total: 0
    }
  },
  methods: {
    loadDeclarations(),
    handleSearch(),
    handleStatusChange(),
    handleView(id),
    handleWithdraw(id),
    handleRedeclare(id)
  }
}

// 新建申报组件结构
{
  data: {
    form: {
      researchDirection: '',
      researchField: []
    },
    rules: {
      researchDirection: [{required: true, min: 10}],
      researchField: [{required: true, min: 1}]
    },
    submitting: false,
    autoSaveTimer: null
  },
  methods: {
    handleSubmit(),
    handleSaveDraft(),
    autoSave(),
    validateForm()
  }
}
```

### 富文本编辑器实现

- **编辑器选择**：使用 Element Plus 的富文本组件
- **内容限制**：纯文本模式，限制 HTML 标签
- **自动保存**：定时保存草稿到本地存储
- **字数统计**：实时显示字符数

### 标签输入实现

- **组件选择**：使用 Element Plus 的 Select 组件
- **多选模式**：支持多选和自定义输入
- **标签展示**：Tag 组件展示已选标签
- **数据验证**：标签数量限制和重复检查

### 状态管理

- **申报状态**：枚举值定义状态类型
- **状态流转**：草稿 → 申报中 → 成功/失败
- **状态更新**：实时轮询状态变化
- **错误处理**：状态异常时的处理逻辑

## ✅ 质量检查标准

### 功能完整性

- [ ] 申报列表显示完整
- [ ] 新建申报功能正常
- [ ] 申报详情展示完整
- [ ] 状态流转正确
- [ ] 操作按钮功能正常
- [ ] 表单验证规则正确

### 视觉一致性

- [ ] 颜色使用符合规范
- [ ] 表格样式统一
- [ ] 表单样式统一
- [ ] 状态标签样式统一
- [ ] 间距使用符合规范

### 交互体验

- [ ] 表单验证实时准确
- [ ] 富文本编辑体验良好
- [ ] 标签输入操作便捷
- [ ] 状态更新及时
- [ ] 操作反馈明确

### 数据处理

- [ ] 分页功能正常
- [ ] 搜索筛选准确
- [ ] 数据加载状态处理
- [ ] 错误状态处理
- [ ] 空状态处理

## 🚀 输出要求

### 文件命名

- 申报列表页面：`申报列表.html`
- 新建申报页面：`新建申报.html`
- 申报详情页面：`申报详情.html`

### 保存位置

- `原型图/申报模块/申报列表.html`
- `原型图/申报模块/新建申报.html`
- `原型图/申报模块/申报详情.html`

### 代码要求

- 完整的 HTML 文档结构
- Vue 3 Composition API 语法
- Element Plus 组件使用
- 富文本编辑器集成
- 格式化良好的代码
- 详细的注释说明

### 功能演示

- 包含完整的交互逻辑
- 模拟真实的申报流程
- 展示各种状态效果
- 实现表单验证和提交
- 支持权限控制

### 特殊要求

- **富文本编辑**：支持格式化文本输入
- **标签输入**：支持多选和自定义标签
- **状态管理**：实时状态更新和流转
- **自动保存**：草稿自动保存功能
- **工作流集成**：Dify 工作流状态展示
