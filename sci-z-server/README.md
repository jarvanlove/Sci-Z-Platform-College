# é«˜æ ¡ç§‘ç ”é¡¹ç›®ç®¡ç†å¹³å°

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

é«˜æ ¡ç§‘ç ”é¡¹ç›®ç®¡ç†å¹³å°æ˜¯ä¸€ä¸ªåŸºäº **DDD é¢†åŸŸé©±åŠ¨è®¾è®¡**ã€**å‰åç«¯åˆ†ç¦»**ã€**å•ä½“åº”ç”¨æ¶æ„**çš„æ™ºèƒ½åŒ–ç§‘ç ”é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿã€‚å¹³å°ä»¥ Dify å·¥ä½œæµä¸ºæ ¸å¿ƒï¼Œå®ç°ç§‘ç ”é¡¹ç›®ä»ç”³æŠ¥ã€æ‰§è¡Œåˆ°éªŒæ”¶çš„æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–ç®¡ç†ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **DDD é¢†åŸŸé©±åŠ¨**ï¼š8 å¤§é¢†åŸŸï¼Œæ¸…æ™°çš„è¾¹ç•Œï¼Œé«˜å†…èšä½è€¦åˆ
- ğŸš€ **å•ä½“åº”ç”¨æ¶æ„**ï¼šç®€åŒ–éƒ¨ç½²ï¼Œæ˜“äºç»´æŠ¤ï¼Œæ”¯æŒæœªæ¥æ‹†åˆ†ä¸ºå¾®æœåŠ¡
- ğŸ¤– **AI æ™ºèƒ½åŒ–**ï¼šé›†æˆ Dify å¹³å°ï¼Œå®ç°æ™ºèƒ½å·¥ä½œæµç¼–æ’
- ğŸ“Š **å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šè¦†ç›–ç”³æŠ¥ã€æ‰§è¡Œã€æŠ¥å‘Šå…¨æµç¨‹
- ğŸ”’ **å®‰å…¨å¯é **ï¼šåŸºäº Sa-Token çš„ JWT è®¤è¯ä½“ç³»
- âš¡ **Java 21 æ–°ç‰¹æ€§**ï¼šè™šæ‹Ÿçº¿ç¨‹ã€è®°å½•æ¨¡å¼ã€æ¨¡å¼åŒ¹é…ç­‰

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯             | ç‰ˆæœ¬     | è¯´æ˜                           |
| ---------------- | -------- | ------------------------------ |
| **Java**         | 21 (LTS) | ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒè™šæ‹Ÿçº¿ç¨‹ç­‰æ–°ç‰¹æ€§ |
| **Spring Boot**  | 3.2.x    | åº”ç”¨æ¡†æ¶ï¼ŒåŸç”Ÿæ”¯æŒ Java 21     |
| **PostgreSQL**   | 14+      | å…³ç³»å‹æ•°æ®åº“                   |
| **Redis**        | 7.x      | ç¼“å­˜ã€ä¼šè¯ã€åˆ†å¸ƒå¼é”           |
| **Apache Kafka** | 3.x      | æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆé¢†åŸŸäº‹ä»¶å‘å¸ƒï¼‰       |
| **MinIO**        | Latest   | å¯¹è±¡å­˜å‚¨ï¼ˆæ–‡ä»¶å­˜å‚¨ï¼‰           |
| **Sa-Token**     | 1.37.0+  | è½»é‡çº§æƒé™è®¤è¯æ¡†æ¶             |
| **MyBatis-Plus** | 3.5.5+   | ORM æ¡†æ¶                       |
| **LangChain4j**  | 0.34.0+  | LLM é›†æˆæ¡†æ¶                   |

### AI å¹³å°

- **Dify** - AI å·¥ä½œæµç¼–æ’ä¸çŸ¥è¯†åº“ç®¡ç†
- **Vector Database** - å‘é‡æ•°æ®åº“ï¼ˆè¯­ä¹‰æœç´¢ï¼‰

### æ¶æ„æ¨¡å¼

- **DDD é¢†åŸŸé©±åŠ¨è®¾è®¡** - å•ä½“åº”ç”¨ï¼Œæ¸…æ™°çš„é¢†åŸŸè¾¹ç•Œ
- **CQRS** - å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»
- **äº‹ä»¶é©±åŠ¨** - åŸºäºé¢†åŸŸäº‹ä»¶çš„å¼‚æ­¥å¤„ç†
- **åˆ†å±‚æ¶æ„** - æ¥å£å±‚ã€åº”ç”¨å±‚ã€é¢†åŸŸå±‚ã€åŸºç¡€è®¾æ–½å±‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
sci-z-server/
â”œâ”€â”€ pom.xml                              # Maven é¡¹ç›®é…ç½®
â””â”€â”€ src/main/
    â”œâ”€â”€ java/com/sciz/server/
    â”‚   â”œâ”€â”€ ServerApplication.java       # åº”ç”¨å¯åŠ¨ç±»
    â”‚   â”‚
    â”‚   â”œâ”€â”€ interfaces/                  # æ¥å£å±‚ - å¯¹å¤–æ¥å£
    â”‚   â”‚   â”œâ”€â”€ controller/              # æ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java          # è®¤è¯æ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â”œâ”€â”€ UserController.java          # ç”¨æˆ·æ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectController.java       # é¡¹ç›®æ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â”œâ”€â”€ DeclarationController.java   # ç”³æŠ¥æ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â”œâ”€â”€ ReportController.java        # æŠ¥å‘Šæ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeController.java     # çŸ¥è¯†åº“æ§åˆ¶å™¨
    â”‚   â”‚   â”‚   â””â”€â”€ ChatController.java          # AIå¯¹è¯æ§åˆ¶å™¨
    â”‚   â”‚   â””â”€â”€ converter/                # ç»Ÿä¸€è½¬æ¢å™¨ï¼ˆå•æ¬¡è½¬æ¢ï¼‰
    â”‚   â”‚       â”œâ”€â”€ UserConverter.java
    â”‚   â”‚       â”œâ”€â”€ ProjectConverter.java
    â”‚   â”‚       â””â”€â”€ DeclarationConverter.java
    â”‚   â”‚
    â”‚   â”œâ”€â”€ application/                 # åº”ç”¨å±‚ - ä¸šåŠ¡ç¼–æ’
    â”‚   â”‚   â”œâ”€â”€ service/                 # åº”ç”¨æœåŠ¡
    â”‚   â”‚   â”‚   â”œâ”€â”€ AuthService.java             # è®¤è¯æœåŠ¡æ¥å£
    â”‚   â”‚   â”‚   â”œâ”€â”€ UserService.java             # ç”¨æˆ·æœåŠ¡æ¥å£
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectService.java          # é¡¹ç›®æœåŠ¡æ¥å£
    â”‚   â”‚   â”‚   â”œâ”€â”€ DeclarationService.java      # ç”³æŠ¥æœåŠ¡æ¥å£
    â”‚   â”‚   â”‚   â”œâ”€â”€ ReportService.java           # æŠ¥å‘ŠæœåŠ¡æ¥å£
    â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeService.java        # çŸ¥è¯†åº“æœåŠ¡æ¥å£
    â”‚   â”‚   â”‚   â””â”€â”€ ChatService.java             # AIå¯¹è¯æœåŠ¡æ¥å£
    â”‚   â”‚   â”œâ”€â”€ impl/                    # åº”ç”¨æœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â”œâ”€â”€ AuthServiceImpl.java         # è®¤è¯æœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â”œâ”€â”€ UserServiceImpl.java         # ç”¨æˆ·æœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectServiceImpl.java      # é¡¹ç›®æœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â”œâ”€â”€ DeclarationServiceImpl.java  # ç”³æŠ¥æœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â”œâ”€â”€ ReportServiceImpl.java       # æŠ¥å‘ŠæœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeServiceImpl.java    # çŸ¥è¯†åº“æœåŠ¡å®ç°
    â”‚   â”‚   â”‚   â””â”€â”€ ChatServiceImpl.java         # AIå¯¹è¯æœåŠ¡å®ç°
    â”‚   â”‚   â””â”€â”€ task/                    # ä»»åŠ¡è°ƒåº¦
    â”‚   â”‚       â”œâ”€â”€ ScheduledTask.java           # å®šæ—¶ä»»åŠ¡
    â”‚   â”‚       â”œâ”€â”€ AsyncTask.java               # å¼‚æ­¥ä»»åŠ¡
    â”‚   â”‚       â””â”€â”€ WorkflowTask.java            # å·¥ä½œæµä»»åŠ¡
    â”‚   â”‚
    â”‚   â”œâ”€â”€ domain/                      # é¢†åŸŸå±‚ - æ ¸å¿ƒä¸šåŠ¡
    â”‚   â”‚   â”œâ”€â”€ pojo/                    # å¯¹è±¡æ¨¡å‹
    â”‚   â”‚   â”‚   â”œâ”€â”€ entity/              # é¢†åŸŸå®ä½“
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user/            # ç”¨æˆ·ç›¸å…³å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ User.java            # ç”¨æˆ·å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Role.java            # è§’è‰²å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Permission.java      # æƒé™å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ project/         # é¡¹ç›®ç›¸å…³å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Project.java         # é¡¹ç›®å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectMember.java   # é¡¹ç›®æˆå‘˜å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProjectDocument.java # é¡¹ç›®æ–‡æ¡£å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ declaration/     # ç”³æŠ¥ç›¸å…³å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Declaration.java     # ç”³æŠ¥å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DeclarationTemplate.java # ç”³æŠ¥æ¨¡æ¿å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ report/          # æŠ¥å‘Šç›¸å…³å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Report.java          # æŠ¥å‘Šå®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReportTemplate.java  # æŠ¥å‘Šæ¨¡æ¿å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge/       # çŸ¥è¯†åº“ç›¸å…³å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeBase.java   # çŸ¥è¯†åº“å®ä½“
    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ KnowledgeFile.java   # çŸ¥è¯†åº“æ–‡ä»¶å®ä½“
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ai/              # AIç›¸å…³å®ä½“
    â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Conversation.java    # å¯¹è¯å®ä½“
    â”‚   â”‚   â”‚   â”‚       â””â”€â”€ Message.java         # æ¶ˆæ¯å®ä½“
    â”‚   â”‚   â”‚   â”œâ”€â”€ dto/                 # æ•°æ®ä¼ è¾“å¯¹è±¡
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ request/         # è¯·æ±‚DTO
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginReq.java
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterReq.java
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectCreateReq.java
    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeclarationSubmitReq.java
    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReportGenerateReq.java
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ response/        # å“åº”DTO
    â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ LoginResp.java
    â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ UserInfoResp.java
    â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ProjectInfoResp.java
    â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ DeclarationInfoResp.java
    â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ReportInfoResp.java
    â”‚   â”‚   â”œâ”€â”€ mapper/                  # æ•°æ®æ˜ å°„æ¥å£
    â”‚   â”‚   â”‚   â”œâ”€â”€ UserMapper.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectMapper.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ DeclarationMapper.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ ReportMapper.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeMapper.java
    â”‚   â”‚   â”‚   â””â”€â”€ ConversationMapper.java
    â”‚   â”‚   â””â”€â”€ repository/             # ä»“å‚¨æ¥å£
    â”‚   â”‚       â”œâ”€â”€ UserRepository.java
    â”‚   â”‚       â”œâ”€â”€ ProjectRepository.java
    â”‚   â”‚       â”œâ”€â”€ DeclarationRepository.java
    â”‚   â”‚       â”œâ”€â”€ ReportRepository.java
    â”‚   â”‚       â”œâ”€â”€ KnowledgeRepository.java
    â”‚   â”‚       â””â”€â”€ ConversationRepository.java
    â”‚   â”‚
    â”‚   â””â”€â”€ infrastructure/               # åŸºç¡€è®¾æ–½å±‚ - æŠ€æœ¯å®ç°
    â”‚       â”œâ”€â”€ config/                  # é…ç½®ç±»
    â”‚       â”‚   â”œâ”€â”€ database/            # æ•°æ®åº“é…ç½®
    â”‚       â”‚   â”‚   â”œâ”€â”€ DatabaseConfig.java
    â”‚       â”‚   â”‚   â””â”€â”€ MyBatisConfig.java
    â”‚       â”‚   â”œâ”€â”€ cache/               # ç¼“å­˜é…ç½®
    â”‚       â”‚   â”‚   â””â”€â”€ RedisConfig.java
    â”‚       â”‚   â”œâ”€â”€ mq/                  # æ¶ˆæ¯é˜Ÿåˆ—é…ç½®
    â”‚       â”‚   â”‚   â””â”€â”€ KafkaConfig.java
    â”‚       â”‚   â”œâ”€â”€ security/           # å®‰å…¨é…ç½®
    â”‚       â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
    â”‚       â”‚   â”‚   â””â”€â”€ JwtConfig.java
    â”‚       â”‚   â”œâ”€â”€ storage/            # å­˜å‚¨é…ç½®
    â”‚       â”‚   â”‚   â””â”€â”€ MinioConfig.java
    â”‚       â”‚   â”œâ”€â”€ ai/                 # AIé…ç½®
    â”‚       â”‚   â”‚   â””â”€â”€ DifyConfig.java
    â”‚       â”‚   â”œâ”€â”€ web/                # Webé…ç½®
    â”‚       â”‚   â”‚   â”œâ”€â”€ WebConfig.java
    â”‚       â”‚   â”‚   â””â”€â”€ SwaggerConfig.java
    â”‚       â”‚   â”œâ”€â”€ idempotent/         # å¹‚ç­‰æ€§é…ç½®
    â”‚       â”‚   â”‚   â””â”€â”€ IdempotentConfig.java
    â”‚       â”‚   â”œâ”€â”€ retry/              # é‡è¯•é…ç½®
    â”‚       â”‚   â”‚   â””â”€â”€ RetryConfig.java
    â”‚       â”‚   â””â”€â”€ trace/              # é“¾è·¯è¿½è¸ªé…ç½®
    â”‚       â”‚       â””â”€â”€ TraceConfig.java
    â”‚       â”œâ”€â”€ external/               # å¤–éƒ¨æœåŠ¡é›†æˆ
    â”‚       â”‚   â”œâ”€â”€ dify/               # Difyå¹³å°é›†æˆ
    â”‚       â”‚   â”‚   â”œâ”€â”€ DifyService.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ WorkflowService.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseService.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ dto/            # Dify APIæ¨¡å‹
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ request/    # è¯·æ±‚æ¨¡å‹
    â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DifyChatReq.java
    â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DifyWorkflowReq.java
    â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DifyKnowledgeReq.java
    â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DifyFileUploadReq.java
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ response/   # å“åº”æ¨¡å‹
    â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ DifyChatResp.java
    â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ DifyWorkflowResp.java
    â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ DifyKnowledgeResp.java
    â”‚       â”‚   â”‚   â”‚       â””â”€â”€ DifyFileUploadResp.java
    â”‚       â”‚   â”‚   â””â”€â”€ converter/      # Difyæ¨¡å‹è½¬æ¢å™¨
    â”‚       â”‚   â”‚       â””â”€â”€ DifyConverter.java
    â”‚       â”‚   â”œâ”€â”€ minio/              # MinIOå­˜å‚¨é›†æˆ
    â”‚       â”‚   â”‚   â”œâ”€â”€ MinioService.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ FileUploadService.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ FileDownloadService.java
    â”‚       â”‚   â”‚   â””â”€â”€ dto/            # MinIO APIæ¨¡å‹
    â”‚       â”‚   â”‚       â”œâ”€â”€ request/    # è¯·æ±‚æ¨¡å‹
    â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ MinioUploadReq.java
    â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ MinioDownloadReq.java
    â”‚       â”‚   â”‚       â”‚   â””â”€â”€ MinioDeleteReq.java
    â”‚       â”‚   â”‚       â””â”€â”€ response/   # å“åº”æ¨¡å‹
    â”‚       â”‚   â”‚           â”œâ”€â”€ MinioUploadResp.java
    â”‚       â”‚   â”‚           â”œâ”€â”€ MinioDownloadResp.java
    â”‚       â”‚   â”‚           â””â”€â”€ MinioDeleteResp.java
    â”‚       â”‚   â”œâ”€â”€ kafka/              # Kafkaæ¶ˆæ¯é›†æˆ
    â”‚       â”‚   â”‚   â”œâ”€â”€ KafkaProducer.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ KafkaConsumer.java
    â”‚       â”‚   â”‚   â””â”€â”€ dto/            # Kafkaæ¶ˆæ¯æ¨¡å‹
    â”‚       â”‚   â”‚       â”œâ”€â”€ request/    # è¯·æ±‚æ¨¡å‹
    â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ KafkaMessageReq.java
    â”‚       â”‚   â”‚       â”‚   â””â”€â”€ KafkaEventReq.java
    â”‚       â”‚   â”‚       â””â”€â”€ response/   # å“åº”æ¨¡å‹
    â”‚       â”‚   â”‚           â”œâ”€â”€ KafkaMessageResp.java
    â”‚       â”‚   â”‚           â””â”€â”€ KafkaEventResp.java
    â”‚       â”‚   â””â”€â”€ redis/              # Redisç¼“å­˜é›†æˆ
    â”‚       â”‚       â”œâ”€â”€ RedisService.java
    â”‚       â”‚       â””â”€â”€ dto/            # Redisç¼“å­˜æ¨¡å‹
    â”‚       â”‚           â”œâ”€â”€ request/    # è¯·æ±‚æ¨¡å‹
    â”‚       â”‚           â”‚   â”œâ”€â”€ RedisSetReq.java
    â”‚       â”‚           â”‚   â”œâ”€â”€ RedisGetReq.java
    â”‚       â”‚           â”‚   â””â”€â”€ RedisDeleteReq.java
    â”‚       â”‚           â””â”€â”€ response/   # å“åº”æ¨¡å‹
    â”‚       â”‚               â”œâ”€â”€ RedisSetResp.java
    â”‚       â”‚               â”œâ”€â”€ RedisGetResp.java
    â”‚       â”‚               â””â”€â”€ RedisDeleteResp.java
    â”‚       â”œâ”€â”€ common/                 # é€šç”¨ç»„ä»¶
    â”‚       â”‚   â”œâ”€â”€ annotation/         # è‡ªå®šä¹‰æ³¨è§£
    â”‚       â”‚   â”‚   â”œâ”€â”€ Log.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ Idempotent.java
    â”‚       â”‚   â”‚   â””â”€â”€ Retry.java
    â”‚       â”‚   â”œâ”€â”€ interceptor/        # æ‹¦æˆªå™¨
    â”‚       â”‚   â”‚   â”œâ”€â”€ AuthInterceptor.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ LogInterceptor.java
    â”‚       â”‚   â”‚   â””â”€â”€ IdempotentInterceptor.java
    â”‚       â”‚   â”œâ”€â”€ aspect/             # åˆ‡é¢
    â”‚       â”‚   â”‚   â”œâ”€â”€ LogAspect.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ IdempotentAspect.java
    â”‚       â”‚   â”‚   â””â”€â”€ RetryAspect.java
    â”‚       â”‚   â”œâ”€â”€ handler/            # å¤„ç†å™¨
    â”‚       â”‚   â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ GlobalEventHandler.java
    â”‚       â”‚   â”‚   â””â”€â”€ SecurityHandler.java
    â”‚       â”‚   â””â”€â”€ filter/             # è¿‡æ»¤å™¨
    â”‚       â”‚       â”œâ”€â”€ AuthFilter.java
    â”‚       â”‚       â”œâ”€â”€ LogFilter.java
    â”‚       â”‚       â””â”€â”€ TraceFilter.java
    â”‚       â””â”€â”€ shared/                 # å…±äº«ç»„ä»¶
    â”‚           â”œâ”€â”€ result/             # ç»Ÿä¸€è¿”å›ç»“æœ
    â”‚           â”‚   â”œâ”€â”€ Result.java
    â”‚           â”‚   â”œâ”€â”€ ResultCode.java
    â”‚           â”‚   â””â”€â”€ PageResult.java
    â”‚           â”œâ”€â”€ exception/           # å¼‚å¸¸å¤„ç†
    â”‚           â”‚   â”œâ”€â”€ BusinessException.java
    â”‚           â”‚   â”œâ”€â”€ ValidationException.java
    â”‚           â”‚   â””â”€â”€ NotFoundException.java
    â”‚           â”œâ”€â”€ event/               # äº‹ä»¶
    â”‚           â”‚   â”œâ”€â”€ EventPublisher.java        # äº‹ä»¶å‘å¸ƒå™¨
    â”‚           â”‚   â”œâ”€â”€ DomainEvent.java
    â”‚           â”‚   â”œâ”€â”€ UserLoginEvent.java
    â”‚           â”‚   â”œâ”€â”€ UserLogoutEvent.java
    â”‚           â”‚   â”œâ”€â”€ UserRegisteredEvent.java
    â”‚           â”‚   â””â”€â”€ ProjectCreatedEvent.java
    â”‚           â”œâ”€â”€ constant/           # å¸¸é‡
    â”‚           â”‚   â”œâ”€â”€ SystemConstant.java
    â”‚           â”‚   â”œâ”€â”€ CacheConstant.java
    â”‚           â”‚   â””â”€â”€ MessageConstant.java
    â”‚           â”œâ”€â”€ enums/              # æšä¸¾
    â”‚           â”‚   â”œâ”€â”€ UserStatus.java
    â”‚           â”‚   â”œâ”€â”€ ProjectStatus.java
    â”‚           â”‚   â””â”€â”€ DeclarationStatus.java
    â”‚           â””â”€â”€ utils/              # å·¥å…·ç±»
    â”‚               â”œâ”€â”€ JsonUtils.java
    â”‚               â”œâ”€â”€ DateUtils.java
    â”‚               â”œâ”€â”€ FileUtils.java
    â”‚               â””â”€â”€ ValidationUtils.java
    â”‚
    â””â”€â”€ resources/                       # èµ„æºæ–‡ä»¶
        â”œâ”€â”€ application.yml              # åº”ç”¨é…ç½®
        â”œâ”€â”€ application-dev.yml          # å¼€å‘ç¯å¢ƒé…ç½®
        â”œâ”€â”€ application-prod.yml        # ç”Ÿäº§ç¯å¢ƒé…ç½®
        â”œâ”€â”€ mapper/                     # MyBatisæ˜ å°„æ–‡ä»¶
        â”‚   â”œâ”€â”€ user/                   # ç”¨æˆ·ç›¸å…³æ˜ å°„æ–‡ä»¶
        â”‚   â”‚   â””â”€â”€ UserMapper.xml
        â”‚   â”œâ”€â”€ project/                # é¡¹ç›®ç›¸å…³æ˜ å°„æ–‡ä»¶
        â”‚   â”‚   â””â”€â”€ ProjectMapper.xml
        â”‚   â”œâ”€â”€ declaration/            # ç”³æŠ¥ç›¸å…³æ˜ å°„æ–‡ä»¶
        â”‚   â”‚   â””â”€â”€ DeclarationMapper.xml
        â”‚   â”œâ”€â”€ report/                 # æŠ¥å‘Šç›¸å…³æ˜ å°„æ–‡ä»¶
        â”‚   â”‚   â””â”€â”€ ReportMapper.xml
        â”‚   â”œâ”€â”€ knowledge/              # çŸ¥è¯†åº“ç›¸å…³æ˜ å°„æ–‡ä»¶
        â”‚   â”‚   â””â”€â”€ KnowledgeMapper.xml
        â”‚   â””â”€â”€ ai/                     # AIç›¸å…³æ˜ å°„æ–‡ä»¶
        â”‚       â””â”€â”€ ConversationMapper.xml
        â”œâ”€â”€ static/                     # é™æ€èµ„æº
        â””â”€â”€ templates/                  # æ¨¡æ¿æ–‡ä»¶
```

### DDD åˆ†å±‚èŒè´£è¯´æ˜

#### ğŸ“¡ æ¥å£å±‚ï¼ˆInterfaces Layerï¼‰

- **èŒè´£**ï¼šå¤„ç†ç”¨æˆ·è¯·æ±‚ã€å‚æ•°æ ¡éªŒã€æƒé™éªŒè¯ã€å“åº”è¿”å›
- **æ ¸å¿ƒç»„ä»¶**ï¼š
  - Controllerï¼šRESTful API ç«¯ç‚¹
  - Converterï¼šç»Ÿä¸€è½¬æ¢å™¨ï¼ˆå•æ¬¡è½¬æ¢ï¼‰
  - DTOï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆRequest/Responseï¼‰

#### âš™ï¸ åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰

- **èŒè´£**ï¼šä¸šåŠ¡ç”¨ä¾‹ç¼–æ’ã€äº‹åŠ¡ç®¡ç†ã€è·¨èšåˆåè°ƒ
- **æ ¸å¿ƒç»„ä»¶**ï¼š
  - Serviceï¼šåº”ç”¨æœåŠ¡æ¥å£ï¼Œå®šä¹‰ä¸šåŠ¡å¥‘çº¦
  - ServiceImplï¼šåº”ç”¨æœåŠ¡å®ç°ï¼Œå…·ä½“ä¸šåŠ¡é€»è¾‘
  - Taskï¼šä»»åŠ¡è°ƒåº¦ï¼ˆå®šæ—¶ä»»åŠ¡ã€å¼‚æ­¥ä»»åŠ¡ã€å·¥ä½œæµä»»åŠ¡ï¼‰

#### ğŸ¯ é¢†åŸŸå±‚ï¼ˆDomain Layerï¼‰

- **èŒè´£**ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€ä¸šåŠ¡è§„åˆ™ã€é¢†åŸŸæ¨¡å‹
- **æ ¸å¿ƒç»„ä»¶**ï¼š
  - Entityï¼šé¢†åŸŸå®ä½“ï¼Œå…·æœ‰å”¯ä¸€æ ‡è¯†çš„ä¸šåŠ¡å¯¹è±¡
  - DTOï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆRequest/Responseï¼‰
  - Mapperï¼šæ•°æ®æ˜ å°„æ¥å£
  - Repositoryï¼šä»“å‚¨æ¥å£ï¼Œå®šä¹‰æ•°æ®è®¿é—®å¥‘çº¦

#### ğŸ”§ åŸºç¡€è®¾æ–½å±‚ï¼ˆInfrastructure Layerï¼‰

- **èŒè´£**ï¼šæŠ€æœ¯å®ç°ã€å¤–éƒ¨ç³»ç»Ÿé›†æˆã€æ•°æ®æŒä¹…åŒ–
- **æ ¸å¿ƒç»„ä»¶**ï¼š
  - Configï¼šé…ç½®ç±»ï¼ˆdatabaseã€cacheã€mqã€securityã€storageã€aiã€webã€idempotentã€retryã€traceï¼‰
  - Externalï¼šå¤–éƒ¨æœåŠ¡é›†æˆï¼ˆdifyã€minioã€kafkaã€redisï¼‰
  - Commonï¼šé€šç”¨ç»„ä»¶ï¼ˆannotationã€interceptorã€aspectã€handlerã€filterï¼‰
  - Sharedï¼šå…±äº«ç»„ä»¶ï¼ˆresultã€exceptionã€eventã€constantã€enumsã€utilsï¼‰

## ğŸš€ åŠŸèƒ½æ¨¡å—

æœ¬ç³»ç»Ÿå…±åŒ…å« **9 å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**ï¼Œè¦†ç›–ç§‘ç ”é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

### 2.1 ğŸ” è®¤è¯æ¨¡å—

- **ç”¨æˆ·ç™»å½•**ï¼šæ”¯æŒç”¨æˆ·å/é‚®ç®±ç™»å½•ï¼Œå¯é€‰è®°ä½ç™»å½•çŠ¶æ€
- **ç”¨æˆ·æ³¨å†Œ**ï¼šæ–°ç”¨æˆ·æ³¨å†Œï¼Œæ”¯æŒé‚®ç®±/æ‰‹æœºéªŒè¯
- **å¯†ç é‡ç½®**ï¼šé€šè¿‡é‚®ç®±/æ‰‹æœºéªŒè¯ç é‡ç½®å¯†ç 
- **éªŒè¯ç **ï¼šå›¾å½¢éªŒè¯ç é˜²æ­¢æš´åŠ›ç ´è§£
- **è‡ªåŠ¨ç™»å½•**ï¼šæ”¯æŒ 7 å¤©å…ç™»å½•

### 2.2 ğŸ“Š ä»ªè¡¨æ¿æ¨¡å—

- **ç»Ÿè®¡å¡ç‰‡**ï¼šé¡¹ç›®æ€»æ•°ã€è¿›è¡Œä¸­ã€å¾…éªŒæ”¶ã€å·²å®Œæˆ
- **é¡¹ç›®è¿›åº¦æ¦‚è§ˆ**ï¼šå¯è§†åŒ–å±•ç¤ºæ‰€æœ‰é¡¹ç›®çš„è¿›åº¦
- **æœ€è¿‘ç”³æŠ¥åˆ—è¡¨**ï¼šæœ€æ–°æäº¤çš„ç”³æŠ¥è®°å½•
- **å¿«æ·æ“ä½œ**ï¼šå¿«é€Ÿåˆ›å»ºç”³æŠ¥ã€é¡¹ç›®ã€æŠ¥å‘Šç­‰

### 2.3 ğŸ“ ç”³æŠ¥æ¨¡å—

- **ç”³æŠ¥åˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰ç”³æŠ¥è®°å½•ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ã€åˆ†é¡µ
- **æ–°å»ºç”³æŠ¥**ï¼šå¡«å†™ç”³æŠ¥ä¿¡æ¯ï¼ˆç ”ç©¶æ–¹å‘ã€é¢†åŸŸã€è¯¾é¢˜ç­‰ï¼‰
- **ç”³æŠ¥è¯¦æƒ…**ï¼šæŸ¥çœ‹ç”³æŠ¥è¯¦ç»†ä¿¡æ¯å’Œå·¥ä½œæµæ‰§è¡Œç»“æœ
- **ç”³æŠ¥çŠ¶æ€**ï¼šè‰ç¨¿ã€å·²æäº¤ã€å®¡æ ¸ä¸­ã€å·²é€šè¿‡ã€å·²æ‹’ç»
- **Dify å·¥ä½œæµ**ï¼šæ™ºèƒ½è¾…åŠ©ç”³æŠ¥ä¿¡æ¯å¡«å†™å’Œä¼˜åŒ–å»ºè®®

### 2.4 ğŸ“Š é¡¹ç›®æ¨¡å—

- **é¡¹ç›®åˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰é¡¹ç›®ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ã€åˆ†é¡µ
- **é¡¹ç›®è¯¦æƒ…**ï¼šæŸ¥çœ‹é¡¹ç›®åŸºæœ¬ä¿¡æ¯ã€æˆå‘˜ã€è¿›åº¦ã€æ–‡æ¡£
- **æˆå‘˜ç®¡ç†**ï¼šæ·»åŠ /ç§»é™¤é¡¹ç›®æˆå‘˜ï¼Œåˆ†é…æˆå‘˜è§’è‰²
- **è¿›åº¦è·Ÿè¸ª**ï¼šé¡¹ç›®é‡Œç¨‹ç¢‘ã€ä»»åŠ¡åˆ†é…ã€è¿›åº¦æ›´æ–°
- **æ–‡æ¡£ç®¡ç†**ï¼šé¡¹ç›®ç›¸å…³æ–‡æ¡£çš„ä¸Šä¼ ã€åˆ†ç±»ã€ç‰ˆæœ¬æ§åˆ¶
- **çŸ¥è¯†åº“é›†æˆ**ï¼šé¡¹ç›®ä¸“å±çŸ¥è¯†åº“ï¼Œæ”¯æŒ AI é—®ç­”

### 2.5 ğŸ“„ æŠ¥å‘Šç®¡ç†æ¨¡å—

- **æŠ¥å‘Šåˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰æŠ¥å‘Šï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ã€åˆ†é¡µ
- **åˆ›å»ºæŠ¥å‘Š**ï¼šé€‰æ‹©é¡¹ç›®å’ŒæŠ¥å‘Šç±»å‹ï¼Œé…ç½®ç”Ÿæˆå‚æ•°
- **ç”ŸæˆæŠ¥å‘Š**ï¼šè§¦å‘ Dify å·¥ä½œæµï¼Œå®æ—¶æ˜¾ç¤ºç”Ÿæˆè¿›åº¦
- **æŠ¥å‘Šé¢„è§ˆ**ï¼šåœ¨çº¿é¢„è§ˆç”Ÿæˆçš„æŠ¥å‘Šå†…å®¹
- **æŠ¥å‘Šå¯¼å‡º**ï¼šæ”¯æŒ PDFã€Wordã€Excel ç­‰æ ¼å¼å¯¼å‡º
- **æŠ¥å‘Šæ¨¡æ¿**ï¼šå¯é…ç½®çš„æŠ¥å‘Šæ¨¡æ¿å’Œæ ·å¼

### 2.6 ğŸ“ æ–‡ä»¶ç®¡ç†æ¨¡å—

- **æ–‡ä»¶ä¸Šä¼ **ï¼šå•æ–‡ä»¶/æ‰¹é‡æ–‡ä»¶ä¸Šä¼ 
- **æ–‡ä»¶åˆ—è¡¨**ï¼šæŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨ï¼Œæ”¯æŒç­›é€‰ã€æœç´¢
- **æ–‡ä»¶é¢„è§ˆ**ï¼šåœ¨çº¿é¢„è§ˆ PDFã€å›¾ç‰‡ç­‰æ–‡ä»¶
- **æ–‡ä»¶ä¸‹è½½**ï¼šæ”¯æŒå•æ–‡ä»¶/æ‰¹é‡ä¸‹è½½
- **æ–‡ä»¶å»é‡**ï¼šåŸºäºæ–‡ä»¶å“ˆå¸Œå€¼è‡ªåŠ¨å»é‡
- **MinIO é›†æˆ**ï¼šåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼Œæ”¯æŒé«˜å¯ç”¨

### 2.7 ğŸ“š çŸ¥è¯†åº“æ¨¡å—

- **çŸ¥è¯†åº“åˆ›å»º**ï¼šåˆ›å»ºç‹¬ç«‹çŸ¥è¯†åº“æˆ–å…³è”é¡¹ç›®çŸ¥è¯†åº“
- **æ–‡ä»¶å¤¹ç®¡ç†**ï¼šåˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹ï¼Œæ”¯æŒé‡å‘½åã€åˆ é™¤
- **æ–‡ä»¶ç®¡ç†**ï¼šä¸Šä¼ ã€é‡å‘½åã€åˆ é™¤ã€ç§»åŠ¨æ–‡ä»¶
- **AI é—®ç­”**ï¼šåŸºäºçŸ¥è¯†åº“å†…å®¹çš„æ™ºèƒ½é—®ç­”
- **è¯­ä¹‰æœç´¢**ï¼šå‘é‡åŒ–æœç´¢ï¼Œæ”¯æŒè¯­ä¹‰ç†è§£
- **Dify åŒæ­¥**ï¼šä¸ Dify å¹³å°çŸ¥è¯†åº“åŒå‘åŒæ­¥

### 2.8 ğŸ¤– AI åŠ©æ‰‹æ¨¡å—

- **åˆ›å»ºä¼šè¯**ï¼šåˆ›å»ºæ–°çš„å¯¹è¯ä¼šè¯
- **å‘é€æ¶ˆæ¯**ï¼šå‘é€ç”¨æˆ·æ¶ˆæ¯ï¼Œæ¥æ”¶ AI å›å¤
- **ä¼šè¯åˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰å¯¹è¯ä¼šè¯
- **ä¼šè¯ç®¡ç†**ï¼šåˆ é™¤ã€é‡å‘½åä¼šè¯
- **ä¸Šä¸‹æ–‡ç†è§£**ï¼šåŸºäºé¡¹ç›®ä¸Šä¸‹æ–‡çš„æ™ºèƒ½å›ç­”
- **å¤šæ¨¡æ€æ”¯æŒ**ï¼šæ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ç­‰å¤šç§è¾“å…¥æ ¼å¼

### 2.9 ğŸ‘¤ ç”¨æˆ·ä¸­å¿ƒæ¨¡å—

- **ä¸ªäººä¿¡æ¯**ï¼šæŸ¥çœ‹å’Œç¼–è¾‘ä¸ªäººåŸºæœ¬ä¿¡æ¯
- **å¤´åƒä¸Šä¼ **ï¼šä¸Šä¼ å’Œæ›´æ¢ç”¨æˆ·å¤´åƒ
- **å¯†ç ä¿®æ”¹**ï¼šä¿®æ”¹ç™»å½•å¯†ç 
- **å®‰å…¨è®¾ç½®**ï¼šç»‘å®šæ‰‹æœºå·ã€é‚®ç®±ï¼Œè®¾ç½®å®‰å…¨é€‰é¡¹
- **è¡Œä¸šé…ç½®**ï¼šæ ¹æ®è¡Œä¸šç±»å‹æ˜¾ç¤ºä¸åŒçš„å­—æ®µé…ç½®
- **æ“ä½œæ—¥å¿—**ï¼šæŸ¥çœ‹ä¸ªäººæ“ä½œå†å²è®°å½•

### 2.10 âš™ï¸ ç³»ç»Ÿç®¡ç†æ¨¡å—

- **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢ã€åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·
- **è§’è‰²ç®¡ç†**ï¼šè§’è‰²åˆ›å»ºã€æƒé™åˆ†é…ã€è§’è‰²ç»§æ‰¿
- **æƒé™ç®¡ç†**ï¼šæƒé™ç‚¹ç®¡ç†ã€èœå•æƒé™ã€æ•°æ®æƒé™
- **éƒ¨é—¨ç®¡ç†**ï¼šç»„ç»‡æ¶æ„ç®¡ç†ã€éƒ¨é—¨å±‚çº§è®¾ç½®
- **ç³»ç»Ÿé…ç½®**ï¼šç³»ç»Ÿå‚æ•°é…ç½®ã€è¡Œä¸šé…ç½®ç®¡ç†
- **æ—¥å¿—ç®¡ç†**ï¼šæ“ä½œæ—¥å¿—ã€ç™»å½•æ—¥å¿—ã€ç³»ç»Ÿæ—¥å¿—æŸ¥è¯¢
- **æ•°æ®ç»Ÿè®¡**ï¼šç³»ç»Ÿä½¿ç”¨æƒ…å†µç»Ÿè®¡ã€ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

**åç«¯ç¯å¢ƒï¼š**

- **JDK 21** (LTS, æ¨èä½¿ç”¨ Eclipse Temurin æˆ– Oracle OpenJDK)
- **Maven 3.9+** (æ”¯æŒ Java 21)
- **PostgreSQL 14+** (æ¨è PostgreSQL 15 æˆ– 16)
- **Redis 7.x** (æ¨è Redis 7.2+)
- **Kafka 3.x** (æ¨è Kafka 3.6+)
- **MinIO** (æœ€æ–°ç¨³å®šç‰ˆ)

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/your-org/sci-z-server.git
cd sci-z-server
```

2. **é…ç½®æ•°æ®åº“**

```bash
# åˆ›å»ºæ•°æ®åº“
createdb sci_z_platform

# æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
psql -d sci_z_platform -f sql/init.sql
```

3. **é…ç½®åº”ç”¨**

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp src/main/resources/application-dev.yml.example src/main/resources/application-dev.yml

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
vim src/main/resources/application-dev.yml
```

4. **å¯åŠ¨æœåŠ¡**

```bash
# å¯åŠ¨ Redis
redis-server

# å¯åŠ¨ Kafka
kafka-server-start.sh config/server.properties

# å¯åŠ¨ MinIO
minio server /data

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run -Dspring-boot.run.profiles=dev
```

5. **è®¿é—®åº”ç”¨**

- åº”ç”¨åœ°å€ï¼šhttp://localhost:8080
- API æ–‡æ¡£ï¼šhttp://localhost:8080/swagger-ui.html

## ğŸš€ éƒ¨ç½²è¯´æ˜

### éƒ¨ç½²æ­¥éª¤

#### 1. åŸºç¡€è®¾æ–½éƒ¨ç½²

**PostgreSQL ä¸»ä»é…ç½®**

```bash
# ä¸»åº“é…ç½®
# postgresql.conf
wal_level = replica
max_wal_senders = 3
wal_keep_segments = 64

# pg_hba.conf
host replication replicator 192.168.1.0/24 md5
```

**Redis é›†ç¾¤é…ç½®**

```bash
# redis.conf
port 7000
cluster-enabled yes
cluster-config-file nodes-7000.conf
cluster-node-timeout 5000
```

**Kafka é›†ç¾¤é…ç½®**

```bash
# server.properties
broker.id=1
listeners=PLAINTEXT://localhost:9092
num.network.threads=3
num.io.threads=8
```

#### 2. åº”ç”¨éƒ¨ç½²

**æ„å»ºåº”ç”¨**

```bash
# ç¼–è¯‘æ‰“åŒ…
mvn clean package -Dmaven.test.skip=true

# ç”Ÿæˆçš„ JAR æ–‡ä»¶
# target/sci-z-server-1.0.0.jar
```

**å¯åŠ¨åº”ç”¨**

```bash
# æ–¹å¼ 1: ç›´æ¥å¯åŠ¨ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
java -jar sci-z-server-1.0.0.jar --spring.profiles.active=dev

# æ–¹å¼ 2: åå°å¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
nohup java -jar sci-z-server-1.0.0.jar --spring.profiles.active=prod > app.log 2>&1 &

# æ–¹å¼ 3: ä½¿ç”¨ JVM å‚æ•°ä¼˜åŒ–ï¼ˆæ¨èï¼‰
java -Xms2g -Xmx4g \
     -XX:+UseZGC \
     -XX:+EnableVirtualThreads \
     -Dspring.profiles.active=prod \
     -jar sci-z-server-1.0.0.jar
```

#### 3. Nginx é…ç½®

```nginx
upstream sci_z_backend {
    server 127.0.0.1:8080;
    server 127.0.0.1:8081;
}

server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://sci_z_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

### é…ç½®è¯´æ˜

#### æ•°æ®åº“é…ç½®

```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/sci_z_platform
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:password}
    driver-class-name: org.postgresql.Driver
```

#### Redis é…ç½®

```yaml
spring:
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}
    database: 0
```

#### MinIO é…ç½®

```yaml
minio:
  endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
  access-key: ${MINIO_ACCESS_KEY:minioadmin}
  secret-key: ${MINIO_SECRET_KEY:minioadmin}
  bucket-name: ${MINIO_BUCKET:sci-z-files}
```

#### Dify é…ç½®

```yaml
dify:
  api-url: ${DIFY_API_URL:http://localhost:5001}
  api-key: ${DIFY_API_KEY:your-api-key}
  workspace-id: ${DIFY_WORKSPACE_ID:your-workspace-id}
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º

1. **å®‰è£… JDK 21**

```bash
# ä½¿ç”¨ SDKMAN å®‰è£…
curl -s "https://get.sdkman.io" | bash
sdk install java 21.0.1-tem
```

2. **å®‰è£… Maven**

```bash
# ä½¿ç”¨ SDKMAN å®‰è£…
sdk install maven 3.9.6
```

3. **å®‰è£… PostgreSQL**

```bash
# Ubuntu/Debian
sudo apt-get install postgresql-14

# macOS
brew install postgresql@14
```

4. **å®‰è£… Redis**

```bash
# Ubuntu/Debian
sudo apt-get install redis-server

# macOS
brew install redis
```

### ä»£ç è§„èŒƒ

#### ç±»åæ³¨é‡Šæ¨¡æ¿

```java
/**
 * @author JiaWen.Wu
 * @className å½“å‰ç±»å
 * @date å½“å‰æ—¶é—´(yyyy-MM-dd HH:mm)
 */
```

#### æ–¹æ³•åæ³¨é‡Šæ¨¡æ¿

```java
/**
 * æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„
 *
 * @param å‚æ•°ç±»å‹ å‚æ•°æè¿°
 * @return è¿”å›ç»“æœ
 */
```

### ç»Ÿä¸€è¿”å›æ ¼å¼

æ‰€æœ‰æ¥å£ä½¿ç”¨ç»Ÿä¸€çš„è¿”å›ç»“æœæ ¼å¼ï¼š

```java
public class Result<T> {
    private Integer code;
    private String message;
    private T data;
    private Long timestamp;
}
```

### æ—¥å¿—è§„èŒƒ

```java
// ä½¿ç”¨ SLF4J + Logback
private static final Logger logger = LoggerFactory.getLogger(YourClass.class);

// æ—¥å¿—çº§åˆ«ä½¿ç”¨
logger.debug("è°ƒè¯•ä¿¡æ¯");
logger.info("ä¸€èˆ¬ä¿¡æ¯");
logger.warn("è­¦å‘Šä¿¡æ¯");
logger.error("é”™è¯¯ä¿¡æ¯", exception);
```

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤é—®é¢˜
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` ä»£ç é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
